"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8562,3333],{78562:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var i=n(85893);let a=n(10508).ZP.div(["height:calc(100% - 30px) !important;width:100% !important;canvas{height:calc(100% + 12px) !important;width:100% !important;}"]);var r=n(67294),l=n(96189),o=n(58437),s=n(97836),c=n(6484),u=({containerRef:e,id:t,setLoading:n})=>{let{processes:{[t]:{libs:i=[]}={}}={}}=(0,o.z)(),[a,u]=(0,r.useState)(),d=(0,l.Z)();(0,r.useEffect)(()=>{var t;let i=null===(t=e.current)||void 0===t?void 0:t.querySelector("canvas");i instanceof HTMLCanvasElement&&(window.Module={canvas:i,postRun:()=>{n(!1),d(window.FS,"SpaceCadet")}},u(i))},[e,d,n]),(0,r.useEffect)(()=>(a&&setTimeout(()=>{var t;let{height:n,width:r}=(null===(t=e.current)||void 0===t?void 0:t.getBoundingClientRect())||{};n&&r&&(a.style.height=`${n}px`,a.style.width=`${r}px`,(0,c.mb)(i,void 0,!!window.Module.canvas))},s.jx.WINDOW),()=>{if(a&&window.Module)try{var e;null===(e=window.Module.SDL2)||void 0===e||e.audioContext.close()}catch{}}),[a,e,i])},d=n(7443),f=({id:e})=>(0,i.jsx)(d.Z,{StyledComponent:a,id:e,useHook:u,children:(0,i.jsx)("canvas",{id:"canvas",onContextMenu:c.nK})})},7443:function(e,t,n){var i=n(85893),a=n(67294),r=n(33333),l=n(45279),o=n(58437);t.Z=(0,a.memo)(({id:e,useHook:t,StyledComponent:n,children:s})=>{let{processes:{[e]:{url:c=""}={}}}=(0,o.z)(),u=(0,a.useRef)(null),[d,f]=(0,a.useState)(!0),v=(0,a.useMemo)(()=>({contain:"strict",visibility:d?"hidden":"visible"}),[d]);return t({containerRef:u,id:e,loading:d,setLoading:f,url:c}),(0,i.jsxs)(i.Fragment,{children:[d&&(0,i.jsx)(r.default,{}),(0,i.jsx)(n,{ref:u,style:v,...(0,l.Z)({id:e}),children:s})]})})},33333:function(e,t,n){n.r(t);let i=n(10508).ZP.div(['cursor:wait;height:100%;width:100%;&::before{color:#fff;content:"Working on it...";display:flex;font-size:12px;justify-content:center;mix-blend-mode:difference;padding-top:18px;}']);t.default=i},96189:function(e,t,n){var i=n(67294),a=n(20063);t.Z=()=>{let{mountEmscriptenFs:e,unMapFs:t,updateFolder:n}=(0,a.o)(),r=(0,i.useRef)();return(0,i.useEffect)(()=>()=>{if(r.current){let e=r.current;r.current="",t(e,!0).then(()=>n("/",void 0,e)).catch(()=>{})}},[t,n]),(0,i.useCallback)(async(t,i)=>{if(!t)return;let a="";try{a=await e(t,i)}catch{}a&&(n("/",a),r.current=a)},[e,n])}},45279:function(e,t,n){var i=n(1864),a=n(67294),r=n(59746),l=n(23736),o=n(89670),s=n(20063),c=n(58437),u=n(76488),d=n(97836),f=n(6484);t.Z=({callback:e,directory:t=d.Ll,id:n,onDragLeave:v,onDragOver:m,updatePositions:h})=>{let{url:p}=(0,c.z)(),{iconPositions:w,sortOrders:x,setIconPositions:y}=(0,u.k)(),{exists:b,mkdirRecursive:g,updateFolder:C,writeFile:L}=(0,s.o)(),k=(0,a.useCallback)(async(e,t,a)=>{if(n){if(t){let r=(0,i.join)(d.Ll,e);if(await g(d.Ll),await L(r,t,!0))return a===o.v.UPDATE_URL&&p(n,r),C(d.Ll,e),(0,i.basename)(r)}else a===o.v.UPDATE_URL&&p(n,e)}return""},[n,g,C,p,L]),{openTransferDialog:E}=(0,r.Z)();return{onDragLeave:v,onDragOver:e=>{null==m||m(e),(0,f.nK)(e)},onDrop:a=>{if(!d.my.has((0,f.RT)(t))){if(h&&a.target instanceof HTMLElement){let{files:e,text:n}=(0,l.p4)(a);if(0===e.length&&""===n)return;let r={x:a.clientX,y:a.clientY},o=[];if(n){try{o=JSON.parse(n)}catch{}if(!Array.isArray(o))return;let[e]=o;if(!e||e.startsWith(t)&&(0,i.basename)(e)===(0,i.relative)(t,e))return;o=o.map(e=>(0,i.basename)(e))}else e instanceof FileList?o=[...e].map(e=>e.name):o=[...e].map(e=>{var t;return(null===(t=e.getAsFile())||void 0===t?void 0:t.name)||""}).filter(Boolean);o=o.map(e=>{if(!w[`${t}/${e}`])return e;let n=0,a="";do n+=1,a=`${t}/${(0,i.basename)(e,(0,i.extname)(e))} (${n})${(0,i.extname)(e)}`;while(w[a]);return(0,i.basename)(a)}),(0,f.vi)(t,a.target,w,x,r,o,y,b)}(0,l.WG)(a,e||k,t,E,!!n)}}}}}}]);