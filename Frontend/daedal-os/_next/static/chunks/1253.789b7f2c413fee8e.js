"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1253],{11253:function(e,t,n){n.r(t),n.d(t,{default:function(){return c}});var r=n(85893),i=n(1864),a=n(10508),o=n(67294),l=n(6155),s=n(97836);let u=a.ZP.textarea.attrs(()=>({enterKeyHint:"done",maxLength:s.Zv,rows:1,...s.AA}))(["background-color:",";border:",";border-radius:0;color:",";font-family:inherit;font-size:11.5px;margin-bottom:2px;max-width:","px;min-height:19px;min-width:30px;overflow:hidden;padding:",";position:relative;resize:none;text-align:center;top:2px;user-select:text;white-space:break-spaces;z-index:1;"],({$darkMode:e})=>e?"rgb(33, 33, 33)":"#fff",({$darkMode:e})=>`1px solid ${e?"#fff":"rgb(100, 100, 100)"}`,({$darkMode:e})=>e?"#fff":"#000",({theme:e})=>e.sizes.fileEntry.renameWidth,({theme:e})=>`1px ${e.sizes.fileEntry.renamePadding}px`);var f=n(6484),c=({isDesktop:e,name:t,path:n,renameFile:c,setRenaming:d})=>{let p=(0,o.useRef)(null),x=()=>{var e;return c(n,null===(e=p.current)||void 0===e?void 0:e.value)},{formats:h,sizes:g}=(0,a.Fg)(),m=(0,o.useCallback)(e=>{if(e instanceof HTMLTextAreaElement){let{width:t}=(0,l.oc)(e.value,g.fileEntry.fontSize,h.systemFont);e.setAttribute("style","height: 1px"),e.setAttribute("style",`height: ${e.scrollHeight+2}px; width: ${t+22}px`)}},[h.systemFont,g.fileEntry.fontSize]);return(0,o.useLayoutEffect)(()=>{requestAnimationFrame(()=>m(p.current))},[m]),(0,o.useLayoutEffect)(()=>{var e,n;m(p.current),null===(e=p.current)||void 0===e||e.focus(s.eS),null===(n=p.current)||void 0===n||n.setSelectionRange(0,t.length-(0,i.extname)(t).length)},[t,m]),(0,r.jsx)(u,{ref:p,$darkMode:!e,defaultValue:t,onBlurCapture:x,onClick:f.nK,onDragStart:f.nK,onKeyDown:({key:e})=>{"Enter"===e?x():"Escape"===e&&d("")},onKeyUp:e=>{m(e.target),(0,f.nK)(e)}})}}}]);