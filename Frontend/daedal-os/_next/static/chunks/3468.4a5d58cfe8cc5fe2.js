"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3468],{13468:function(e,i,t){t.r(i),t.d(i,{default:function(){return k}});var o=t(85893),n=t(67294),r=t(87180),l=t(10508);let c=l.ZP.div(["display:flex;flex-direction:column;height:100%;div{height:calc(100% - 56px - 80px);overflow-y:scroll;}h2,h4{font-weight:400;}h2{font-size:18px;height:56px;padding:16px 24px;}h4{padding:0 0 6px 23px;}nav{background-color:#fff;height:80px;width:100%;button{background-color:rgb(204,204,204);color:#000;font-size:15px;font-weight:600;height:32px;margin:24px;position:absolute;right:0;width:200px;&:hover{background-color:rgb(216,216,216);}&:active{background-color:#000;color:#fff;}}}"]),s=l.ZP.ul(["border-top:1px solid transparent;padding-bottom:9px;position:relative;width:100%;&::before{border-top:",';content:"";height:1px;left:17px;position:absolute;top:-1px;width:calc(100% - 34px);}li{&:active{scale:0.975;}&:first-child{margin-top:2px;}&:hover{background-color:rgb(222,222,222);}figure{color:#000;display:flex;padding:0 23px;figcaption{font-size:15px;padding:0 12px;}picture{background-color:rgb(0,120,215);display:flex;height:40px;place-content:center;place-items:center;width:40px;}}&.selected{background-color:rgb(12,131,218);figcaption{color:#fff;}}padding:5px 0;}'],({$hideBorder:e})=>`1px solid ${e?"transparent":"rgb(192, 192, 194)"}`);var a=t(6155),p=t(58437),d=t(37176),h=t(76488),x=t(67278),u=t(46581),f=t(97836),g=t(6484);let b=new Set(["BoxedWine","JSDOS","Marked","MonacoEditor","OpenType","PDF","Paint","Photos","Ruffle","TinyMCE","V86","VideoPlayer","Vim","Webamp"]),j=({icon:e,onClick:i,selected:t,title:n})=>(0,o.jsx)("li",{className:t?"selected":"",children:(0,o.jsx)(x.Z,{onClick:i,children:(0,o.jsxs)("figure",{children:[(0,o.jsx)(u.Z,{alt:n,displaySize:24,imgSize:32,src:e}),(0,o.jsx)("figcaption",{children:n})]})})});var k=(0,n.memo)(({id:e})=>{let{closeWithTransition:i,open:t,processes:{[e]:l}={}}=(0,p.z)(),{foregroundId:u,setForegroundId:k,updateRecentFiles:v}=(0,h.k)(),{url:m}=l||{},w=m?(0,g.RT)(m):"",C=(0,a.Wd)(w),{title:y,icon:Z}=C&&d.Z[C]||{},[S,z]=(0,n.useState)(C),[E,O]=(0,n.useState)(!1),P=(0,n.useRef)(""),D=(0,n.useCallback)(o=>{t(o,{url:m}),i(e),m&&o&&v(m,o)},[i,e,t,v,m]),K=(0,n.useCallback)(e=>{P.current===e?D(e):(P.current=e,setTimeout(()=>{P.current=""},f.jx.DOUBLE_CLICK),z(e))},[D]),T=(0,r.Z)(e);return(0,n.useEffect)(()=>{let t=u===e;E?t||i(e):(t||k(e),setTimeout(()=>O(!0),f.jx.WINDOW))},[E,i,u,e,k]),(0,o.jsxs)(c,{ref:e=>null==e?void 0:e.focus(f.eS),onContextMenu:g.nK,...T,children:[(0,o.jsx)("h2",{children:"How do you want to open this file?"}),(0,o.jsxs)("div",{children:[y&&Z&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h4",{children:"Keep using this app"}),(0,o.jsx)(s,{...T,children:(0,o.jsx)(j,{icon:Z,onClick:()=>K(C),selected:S===C,title:y},y)}),(0,o.jsx)("h4",{children:"Other options"})]}),(0,o.jsx)(s,{$hideBorder:!y||!Z,children:Object.entries(d.Z).filter(([e])=>b.has(e)&&e!==C).map(([e,{icon:i,title:t}])=>(0,o.jsx)(j,{icon:i,onClick:()=>K(e),selected:S===e,title:t},t))})]}),(0,o.jsx)("nav",{children:(0,o.jsx)(x.Z,{onClick:()=>D(S),children:"OK"})})]})})},87180:function(e,i,t){var o=t(67294),n=t(58437),r=t(97836);i.Z=e=>{let{closeWithTransition:i}=(0,n.z)();return{onKeyDownCapture:(0,o.useCallback)(({key:t})=>"Escape"===t&&i(e),[i,e]),...r.LL}}}}]);