"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3638,5653,1786],{45653:function(e,t,i){i.r(t),i.d(t,{Back:function(){return o},Down:function(){return a},Forward:function(){return l},Refresh:function(){return s},Search:function(){return c},Up:function(){return d}});var r=i(85893),n=i(67294);let o=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"-8 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M32 14v4H7.656l7.172 7.172L12 28 0 16 12 4l2.828 2.828L7.656 14H32z"})})),l=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"8 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"m20 4 12 12-12 12-2.828-2.828L24.344 18H0v-4h24.344l-7.172-7.172L20 4z"})})),s=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"-10 -13 52 52",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M20.266.594q2.594.703 4.75 2.195t3.711 3.531 2.414 4.516T32 16q0 2.203-.57 4.25t-1.609 3.828-2.5 3.242-3.242 2.5-3.828 1.609-4.25.57-4.25-.57-3.828-1.609-3.242-2.5-2.5-3.242-1.609-3.82T.002 16q0-2.188.578-4.25t1.648-3.883T4.83 4.554t3.453-2.555H4.002v-2h8v8h-2V3.358q-1.828.875-3.305 2.195T4.174 8.522t-1.609 3.555-.563 3.922q0 1.922.5 3.711t1.414 3.344 2.195 2.836 2.836 2.195 3.336 1.414 3.719.5q1.922 0 3.711-.5t3.344-1.414 2.836-2.195 2.195-2.836 1.414-3.336.5-3.719q0-2.344-.758-4.516T27.127 7.53t-3.242-3.086-4.148-1.93l.531-1.922z"})})),a=(0,n.memo)(({flip:e})=>{let t=(0,n.useMemo)(()=>e?{transform:"scaleY(-1)",transition:"all 0.2s"}:void 0,[e]);return(0,r.jsx)("svg",{style:t,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"m28.109 5.453 3.781 3.766L15.999 25.11.108 9.219l3.781-3.766 12.109 12.109L28.107 5.453z"})})}),d=(0,n.memo)(()=>{let e=(0,n.useMemo)(()=>({marginTop:"-1px"}),[]);return(0,r.jsx)("svg",{style:e,viewBox:"0 -7 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"m16 0 12 12-2.828 2.828L18 7.656V32h-4V7.656l-7.172 7.172L4 12 16 0z"})})}),c=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M21 0q1.516 0 2.922.391T26.547 1.5t2.227 1.727 1.727 2.227 1.109 2.625.391 2.922-.391 2.922-1.109 2.625-1.727 2.227-2.227 1.727-2.625 1.109-2.922.391q-1.953 0-3.742-.656t-3.289-1.891L1.703 31.705q-.297.297-.703.297t-.703-.297T0 31.002t.297-.703l12.25-12.266q-1.234-1.5-1.891-3.289T10 11.002q0-1.516.391-2.922T11.5 5.455t1.727-2.227 2.227-1.727T18.079.392t2.922-.391zm0 20q1.859 0 3.5-.711t2.859-1.93 1.93-2.859T30 11t-.711-3.5-1.93-2.859-2.859-1.93T21 2t-3.5.711-2.859 1.93-1.93 2.859T12 11t.711 3.5 1.93 2.859 2.859 1.93T21 20z"})}))},91786:function(e,t,i){i.d(t,{UNKNOWN_ICON:function(){return r}});let r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAB0ElEQVR42u2ZVWLbQBiEp/K6DOpb+LF4ip47oCuULpAYH3uAlcbMNOZpm0lsizWz+/3CgEc9aiuFHz9/YYVIcjAAkODcYYDoTyPQHZse7m0E49tLkid/8rz4BuD7RgFIYpW+fvmMXStJEvz+/RuvXr1KG41mVhT5RiECRMUYsUuF0Nv18+fPcXp6ktbrjSzPhRBCDxxUpVKpG+Ls7DSt1eprhwjYWwAdJQD9EGftELV2iCiHCAQMAvT04sVznJ+fpdVqNcuj1hOBJj0wCvECFxcXaeWhIuEUYFADAGZCXF5dpg/3DxmA99YIZVmGRXr58lVqi1CMER8+fOh+pkUS5XIZd7d3ylEIViI5M7wCITqa1wOAtDVPKD1A45andC1ES/N6DZCuzKsIWZr3RoikMK4jZGleD2BsntDOA74tT0gIOZrXEfJmXiti24KleBi1M09SThBIU/P6mZiW5qEXMW3NUzuMGrc8NYRssSE0hFyZVxFyLVgdIcOW51oIWZqHfj9ga15+rOLb8lIRg47m9RoQ/R+eeb0GaGleR8i15XWEqL5VFIIJ87V5u70nvrm+AUF0/8nx4ZlxgOj+9KeTk+Oz8/rrYnIYBAoWeNSj9qwWS/T9vUU9j2EAAAAASUVORK5CYII="},50207:function(e,t,i){i.d(t,{bm:function(){return l},cb:function(){return d},d2:function(){return a},fv:function(){return s},kw:function(){return p},sI:function(){return c}});var r=i(85893),n=i(67294),o=i(10508);let l=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M0 22v-6h6v6H0zm2-4v2h2v-2H2zm-2-4V8h6v6H0zm2-4v2h2v-2H2zM0 6V0h6v6H0zm2-4v2h2V2H2zm8 10v-2h18v2H10zm14 6v2H10v-2h14zM10 2h22v2H10V2zM0 30v-6h6v6H0zm2-4v2h2v-2H2zm8 2v-2h18v2H10z"})})),s=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M32 10H0V8h32v2zm0 16H0v-2h32v2zm0-8.016H0V16h32v1.984z"})})),a=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M28 8.578V32H2V0h17.422zM20 8h4.578L20 3.422V8zm6 22V10h-8V2H4v28h22z"})})),d=(0,n.memo)(()=>{let{colors:e}=(0,o.Fg)();return(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M17 16h-2V0h2v16zm3.313-11.312q2.156.688 3.945 2t3.063 3.078 1.977 3.875.703 4.359q0 1.938-.5 3.727t-1.414 3.344-2.188 2.828-2.828 2.188-3.344 1.414-3.727.5-3.727-.5-3.344-1.414-2.828-2.188-2.188-2.828-1.414-3.344-.5-3.727q0-2.25.703-4.359t1.977-3.875 3.063-3.078 3.945-2l.625 1.891q-1.859.609-3.391 1.734t-2.625 2.625-1.695 3.305-.602 3.758q0 1.656.43 3.188t1.211 2.867 1.875 2.43 2.43 1.875 2.867 1.211 3.188.43 3.188-.43 2.867-1.211 2.43-1.875 1.875-2.43 1.211-2.867.43-3.188q0-1.953-.602-3.758t-1.695-3.305-2.625-2.625-3.391-1.734z",stroke:e.text,strokeWidth:"1"})})}),c=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M32 4v24H0V4h32zM2 6v10.578l7-6.984 10 10 4-4 7 6.984V6H2zm0 20h20.578L9 12.406l-7 7.016V26zm28 0v-.578l-7-7.016L20.406 21l5.016 5H30zm-5-14q-.406 0-.703-.297T24 11t.297-.703T25 10t.703.297T26 11t-.297.703T25 12z"})})),p=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"m32 24.125-8-4V24H0V8h24v3.875l8-4v16.25zM22 10H2v12h20V10zm8 1.109-6 3.016v3.75l6 3.016V11.11z"})}))},93949:function(e,t,i){i.d(t,{A4:function(){return a},VD:function(){return d},r5:function(){return c}});var r=i(1864),n=i(43950),o=i(6155),l=i(97836),s=i(6484);let a=async(e,t,i)=>{if(!e)return;let{subIcons:n,icon:a,pid:d=l.yV[0],url:c}=await new Promise(i=>{e.lstat(t,(r,n)=>{let l=!r&&!!n&&n.isDirectory(),a=(0,s.RT)(t);a&&!l?(0,o.Z7)(e,t,a,e=>i(e)):(0,o.g7)(e,e.getRootFS(),t,l,!1,e=>i(e),!1)})});if(null==i?void 0:i.aborted)return;let p=(0,s.yk)(c);return{icon:await (0,o.kv)(e,(0,r.join)(p?l.Rm:l.Xo,`${p?new URL(c).pathname.replace("/",""):c}${l.Qy}`))||a,pid:d,subIcons:(null==n?void 0:n.includes(l.EV))?n:[],url:c||t}},d=(e,t)=>{let i=0===e.value.length,r=()=>{var i,r;null===(r=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value"))||void 0===r||null===(i=r.set)||void 0===i||i.call(e,t),e.dispatchEvent(new Event("input",{bubbles:!0}))};r(),requestAnimationFrame(()=>i&&1===t.length&&2===e.value.length&&r())},c=(e,t,i,r,o)=>{var l;return o?"Nostr URI":r?"App":i?"YouTube Video":(null==e?void 0:e.isDirectory())||!t?"File folder":(null===(l=n.Z[t])||void 0===l?void 0:l.type)||`${t.toUpperCase().replace(".","")} File`}},53638:function(e,t,i){i.r(t),i.d(t,{NO_RESULTS:function(){return _},SINGLE_LINE_HEIGHT_ADDITION:function(){return U},default:function(){return Q}});var r=i(85893),n=i(1864),o=i(10508),l=i(67294),s=i(8897),a=i(45653),d=i(6155),c=i(50207),p=i(91786),h=i(28853),u=i(97836);let x=(0,o.iv)(["@supports not selector(::-webkit-scrollbar){scrollbar-width:thin;}&::-webkit-scrollbar{width:","px;}"],u.H$);var g=i(18680);let v=o.ZP.div([""," "," background-color:rgba(20,20,20,95%);border:8px solid rgba(30,30,30,95%);border-bottom:none;box-sizing:content-box;display:flex;flex-direction:column;overflow-x:hidden;padding-top:20px;place-items:center;position:relative;scrollbar-gutter:auto;width:100%;picture{padding-bottom:18px;&:not(:first-of-type){position:absolute;img{height:64px;max-height:64px;max-width:64px;min-height:64px;min-width:64px;position:relative;width:64px;}}}h1{font-size:15px;font-weight:400;padding-bottom:7px;padding-left:12px;padding-right:12px;text-align:center;word-break:break-word;&:hover{text-decoration:underline;}}h2{font-size:13px;font-weight:300;}table{border-collapse:collapse;border-top:2px solid rgb(161,161,161);display:grid;font-size:12px;gap:10px;margin-top:15px;padding:15px 0;padding-bottom:0;width:100%;th{max-width:100px;min-width:100px;padding:10px;text-align:left;white-space:nowrap;width:100px;}td{color:rgb(208,208,208);padding-right:5px;word-break:break-all;}tr:first-child{td{text-decoration:underline;&:hover{color:#fff;}}}}ol{border-top:2px solid rgb(161,161,161);margin-bottom:7px;margin-top:15px;padding:10px 0;width:100%;li{button{color:#fff;display:flex;font-size:12px;padding:8px 18px;place-items:start;svg{fill:#fff;height:16px;margin-right:12px;width:16px;}}&:hover{background-color:rgb(42,42,42);}}}.back{border-radius:50%;display:flex;height:32px;left:6px;place-content:center;place-items:center;position:absolute;top:6px;width:32px;svg{fill:#fff;height:18px;margin-right:2px;transform:scaleX(-1);width:18px;}&:hover{background-color:rgba(255,255,255,20%);}}"],(0,g.Z)(u.H$,-2,-1),x);var f=i(93949),m=i(20063),w=i(76488),b=i(67278),j=i(46581),z=i(6484),y=i(99545),k=({openApp:e,setActiveItem:t,singleLineView:i,url:o})=>{let{fs:s,stat:a}=(0,m.o)(),[c,x]=(0,l.useState)(),[g,k]=(0,l.useState)({icon:p.UNKNOWN_ICON}),A=(0,n.extname)((null==g?void 0:g.url)||o),{updateRecentFiles:S}=(0,w.k)(),T=(0,l.useCallback)(()=>{e(null==g?void 0:g.pid,{url:null==g?void 0:g.url}),(null==g?void 0:g.url)&&(null==g?void 0:g.pid)&&S(null==g?void 0:g.url,null==g?void 0:g.pid)},[null==g?void 0:g.pid,null==g?void 0:g.url,e,S]),V=(0,l.useRef)(null),H=null!=g&&!!g.url&&(0,z.yk)(g.url),I=null!=g&&!!g.url&&g.url.startsWith("nostr:"),C=null!=g&&!!g.pid&&o===g.url&&(0,n.extname)(o)===u.zm,E=(null==c?void 0:c.isDirectory())||!A&&!H&&!I,Z=H||I?o:null==g?void 0:g.url,N=(0,l.useRef)(o),M="/"===Z?u.SP:Z?(0,n.basename)(Z,u.zm):"";return(0,l.useEffect)(()=>{a(o).then(e=>N.current===o&&x(e)),(0,f.A4)(s,o).then(e=>e&&N.current===o&&k(e))},[s,a,o]),(0,l.useEffect)(()=>{var e;null===(e=V.current)||void 0===e||e.scrollTo({behavior:"smooth",top:0}),N.current=o},[o]),(null==g?void 0:g.url)&&c?(0,r.jsxs)(v,{ref:V,children:[i&&(0,r.jsx)("div",{className:"back",onClick:()=>t(""),children:(0,r.jsx)(h.UV,{})}),(0,r.jsx)(j.Z,{displaySize:64,imgSize:96,src:null==g?void 0:g.icon}),(0,r.jsx)(y.Z,{icon:null==g?void 0:g.icon,imgSize:64,name:M,showShortcutIcon:!1,subIcons:null==g?void 0:g.subIcons,view:"icon"}),(0,r.jsx)("h1",{onClick:T,children:M}),(0,r.jsx)("h2",{children:(0,f.r5)(c,A,H,C,I)}),!C&&(null==g?void 0:g.url)&&(0,r.jsx)("table",{children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Location"}),(0,r.jsx)("td",{onClick:T,children:g.url})]}),!H&&!I&&!E&&(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Last modified"}),(0,r.jsx)("td",{children:new Date((0,d.GA)(g.url,c)).toLocaleString(u.ZW)})]})]})}),(0,r.jsxs)("ol",{children:[(0,r.jsx)("li",{children:(0,r.jsxs)(b.Z,{onClick:T,children:[(0,r.jsx)(h.UY,{}),"Open"]})}),"."!==(0,n.dirname)(Z)&&(0,r.jsx)("li",{children:(0,r.jsxs)(b.Z,{onClick:()=>e("FileExplorer",{url:(0,n.dirname)(Z)}),children:[(0,r.jsx)(h.WQ,{}),"Open ",E?"folder":"file"," location"]})})]})]}):(0,r.jsx)(r.Fragment,{children:" "})},A=i(7502),S=i(58437),T=e=>{let{contextMenu:t}=(0,A.H)(),{open:i}=(0,S.z)();return(0,l.useMemo)(()=>null==t?void 0:t(()=>[{SvgIcon:h.WQ,action:()=>i("FileExplorer",{url:(0,n.dirname)(e)},""),label:"Open file location"}]),[t,i,e])},V=i(78848);let H={icon:p.UNKNOWN_ICON};var I=({active:e,details:t,openApp:i,searchTerm:o,setActiveItem:s,url:a})=>{let{fs:c,readFile:p,stat:x}=(0,m.o)(),{updateRecentFiles:g}=(0,w.k)(),[v,b]=(0,l.useState)(),[k,A]=(0,l.useState)(H),S=(0,n.extname)((null==k?void 0:k.url)||a),I=(0,n.basename)(a,u.zm),C=(0,l.useMemo)(()=>{let e=I;try{e=e.replace(RegExp(`(${o})`,"i"),"<span>$1</span>")}catch{}return e},[I,o]),E=null!=k&&!!k.url&&(0,z.yk)(k.url),Z=E?a:a||(null==k?void 0:k.url),N=(0,l.useMemo)(()=>v&&!v.isDirectory()?`Last modified: ${new Date((0,d.GA)(Z,v)).toLocaleString(u.ZW,{dateStyle:"short",timeStyle:"short"})}`:"",[Z,v]),[M,O]=(0,l.useState)(!1),R=(0,l.useRef)(null),L=(0,V.O)(R,".list"),$=null!=k&&!!k.pid&&a===k.url&&(0,n.extname)(a)===u.zm,B=(null==v?void 0:v.isDirectory())||!S&&!E,D=null!=k&&!!k.url&&k.url.startsWith("nostr:"),{onContextMenuCapture:P}=T(null==k?void 0:k.url),q=(0,l.useRef)();return(0,l.useEffect)(()=>{let e=t||M;!v&&e&&x(a).then(b),q.current?L||(q.current.abort(),q.current=void 0):(e||L)&&k===H&&(q.current=new AbortController,(0,f.A4)(c,a,q.current.signal).then(e=>{e&&A(e),q.current=void 0}))},[t,c,M,k,L,x,v,a]),(0,l.useEffect)(()=>()=>{try{var e;null===(e=q.current)||void 0===e||e.abort()}catch{}},[]),(0,r.jsxs)("li",{ref:R,"aria-label":I,className:e?"active-item":void 0,onMouseOver:()=>!t&&O(!0),title:N?`${Z}

${N}`:Z,children:[(0,r.jsxs)("figure",{className:t?void 0:"simple",onClick:async()=>{var e;i(null==k?void 0:k.pid,$?void 0:{url:(0,n.extname)(Z)===u.zm&&(null===(e=(0,d.OE)(await p(Z)))||void 0===e?void 0:e.url)||Z}),Z&&(null==k?void 0:k.pid)&&g(Z,null==k?void 0:k.pid)},onContextMenuCapture:E||D||$||B?void 0:P,children:[(0,r.jsx)(j.Z,{displaySize:t?32:16,imgSize:t?32:16,src:null==k?void 0:k.icon}),(0,r.jsx)(y.Z,{icon:null==k?void 0:k.icon,imgSize:t?32:16,name:C,showShortcutIcon:!1,subIcons:null==k?void 0:k.subIcons,view:"icon"}),(0,r.jsxs)("figcaption",{children:[(0,r.jsx)("h1",{dangerouslySetInnerHTML:{__html:C}}),t&&v&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{children:(0,f.r5)(v,S,E,$,D)}),!E&&!$&&!B&&(0,r.jsx)("h2",{children:N})]})]})]}),!e&&(0,r.jsx)("div",{className:"select",onClick:()=>s(a),children:(0,r.jsx)(h.UV,{})})]})};let C=o.ZP.figcaption(["font-size:13px;font-weight:600;padding-bottom:8px;padding-left:12px;padding-top:7px;&.disabled{pointer-events:none;user-select:none;}&:hover{background-color:rgba(60,60,60,95%);}"]);var E=({activeTab:e,activeItem:t,details:i,openApp:n,results:o,searchTerm:s,setActiveItem:d,changeTab:c,title:p})=>{let h=(0,l.useMemo)(()=>1===o.length&&o[0].ref===_,[o]);return 0===o.length?(0,r.jsx)(r.Fragment,{}):(0,r.jsxs)("figure",{children:[(0,r.jsx)(C,{className:e===p||"Best match"===p?"disabled":void 0,onClick:()=>null==c?void 0:c(p),children:p}),(0,r.jsx)("ol",{children:h?(0,r.jsxs)("li",{className:"no-results",children:[(0,r.jsx)(a.Search,{}),"No results found for '",s,"'"]}):o.map(({ref:e})=>(0,r.jsx)(I,{active:t===e,details:i,openApp:n,searchTerm:s,setActiveItem:d,url:e},e))})]})};let Z=o.ZP.figure(["ol{display:flex;flex-flow:row wrap;gap:5px;max-height:97px;overflow-y:hidden;padding-top:9px;li{background-color:rgba(60,60,60,85%);border:1px solid rgba(75,75,75,85%);border-radius:15px;display:flex;padding:4px 10px;place-content:center;place-items:center;white-space:nowrap;h2{bottom:1px;display:block;font-size:12px;font-weight:400;height:16px;max-width:235px;overflow:hidden;padding-top:1px;place-items:center;position:relative;text-overflow:ellipsis;}picture,img{height:16px;margin-right:5px;width:16px;}&:hover{background-color:rgba(80,80,80,85%);}}}"]),N=o.ZP.div(["color:#fff;display:flex;height:",";position:absolute;top:",";width:100%;.list{"," "," background-color:rgba(40,40,40,95%);overflow-y:auto;scrollbar-gutter:auto;width:100%;li{&.active-item{background-color:rgba(30,80,115,75%);}position:relative;figure{display:flex;padding:12px;padding-right:32px;picture,img{height:32px;max-height:32px;max-width:32px;min-height:32px;min-width:32px;width:32px;}figcaption{font-size:8px;margin-top:-2px;max-width:calc(100% - 26px);padding-left:8px;h1{font-size:14.5px;font-weight:400;overflow:hidden;padding-right:12px;text-overflow:ellipsis;span{font-weight:600;}}h2{font-size:13px;font-weight:300;padding-top:6px;}}&.simple{padding:10px;picture,img{height:16px;max-height:16px;max-width:16px;min-height:16px;min-width:16px;width:16px;}figcaption{h1{font-size:14px;font-weight:300;white-space:nowrap;}}}picture:not(:first-child){position:absolute;img{position:absolute;}}}div.select{border-left:1px solid transparent;display:flex;height:100%;place-content:center;place-items:center;position:absolute;right:0;top:0;width:26px;svg{fill:#fff;height:16px;width:16px;}}&:hover{background-color:rgba(100,100,100,95%);div.select{background-color:rgba(60,60,60,95%);border-left:1px solid rgba(40,40,40,95%);}figure{&:not(:hover){background-color:rgba(60,60,60,95%);}}&.active-item{background-color:rgba(16,88,145,95%);}}div.select:hover{background-color:rgba(100,100,100,95%);}}}"],({theme:e})=>`calc(100% - ${e.sizes.search.headerHeight}px - ${e.sizes.search.inputHeight}px)`,({theme:e})=>`${e.sizes.search.headerHeight}px`,(0,g.Z)(u.H$,-2,-1),x);var M=i(10403);let O=(0,o.ZP)(s.m.nav)([""," backdrop-filter:",";@keyframes fade-in{0%{opacity:0%;}100%{opacity:100%;}}.search{width:100%;input{appearance:none;border:2px solid rgb(0,120,215);border-radius:0;color:#000;font-size:15px;height:40px;padding:10px;padding-left:37px;width:100%;&::placeholder{color:#000;inset:0;left:37px;opacity:100%;overflow:visible;}&::-webkit-search-cancel-button{margin:0 0 0 8px;}}svg{bottom:12px;height:16px;left:12px;position:absolute;width:16px;z-index:2;}}.content{animation:fade-in 0.85s;height:calc(100% - 40px);.no-results{display:flex;font-size:14px;font-weight:300;padding:5px 15px;place-items:center;pointer-events:none;user-select:none;svg{fill:#fff;height:32px;margin-right:12px;width:32px;}}.tab{color:rgb(175,175,175);display:flex;flex-direction:column;height:",";place-content:center;place-items:center;position:absolute;top:",";width:100%;h1{font-size:28px;font-weight:400;padding-top:14px;}h3{font-size:14px;font-weight:400;padding-top:8px;}svg{fill:rgb(115,115,115);height:128px;width:128px;}}> nav{position:absolute;right:25px;top:15px;.close-button svg{fill:rgb(200,200,200);height:14px;&:hover{fill:#fff;}}}}> div{display:flex;flex-direction:column;height:100%;width:100%;}"],({$singleLine:e,theme:t})=>(0,M.Z)(t.sizes.search.maxHeight+(e?U:0),t.sizes.search.size,t.sizes.taskbar.button.width,!0),({theme:e})=>`blur(${e.sizes.taskbar.panelBlur})`,({theme:e})=>`calc(100% - ${e.sizes.search.headerHeight}px - ${e.sizes.search.inputHeight}px)`,({theme:e})=>`${e.sizes.search.headerHeight}px`),R=o.ZP.div([""," "," color:#fff;display:flex;height:",";overflow:hidden;place-content:space-evenly;place-items:start;position:absolute;top:",";width:100%;@media (hover:none),(pointer:coarse){overflow-y:scroll;}@supports (not (scrollbar-gutter:stable)){padding-right:","px;@supports not selector(::-webkit-scrollbar){padding-right:8px;}@media (hover:hover),(pointer:fine){&:hover{padding-right:0;}}&:hover{overflow-y:scroll;}}@supports (scrollbar-gutter:stable){&:hover{overflow-y:auto;}}figcaption{font-size:13px;font-weight:600;svg{fill:#fff;height:16px;margin-bottom:-3px;margin-right:6px;width:16px;}}figure.card{background-color:rgba(45,45,45,60%);border-radius:5px;padding:8px 12px;&:hover{box-shadow:0 3px 6px rgba(0,0,0,40%);}> figcaption{padding-left:2px;white-space:nowrap;}ol{display:flex;gap:9px;margin-top:10px;place-content:space-between;li{display:flex;flex-direction:column;max-width:80px;min-width:80px;text-align:left;img{background-color:rgba(60,60,60,85%);border-radius:5px;margin-bottom:4px;min-height:80px;min-width:80px;padding:12px;pointer-events:all;user-select:all;&:hover{background-color:rgba(16,88,145,85%);}}h4{font-size:11px;font-weight:400;padding-left:2px;}&:hover{h4{text-decoration:underline;}}}}}section{display:flex;flex-direction:column;gap:16px;padding:20px 10px 20px 24px;width:100%;&:first-child{padding-bottom:",";}}&.single-line{flex-direction:column;place-content:flex-start;figure.card{width:min-content;ol{gap:16px;}}section{padding-right:24px;&:not(:first-child){padding-top:16px;}}}"],(0,g.Z)(u.H$,-2,-1),x,({theme:e})=>`calc(100% - ${e.sizes.search.headerHeight}px - ${e.sizes.search.inputHeight}px)`,({theme:e})=>`${e.sizes.search.headerHeight}px`,u.H$,({$singleLine:e})=>e?0:void 0),L=o.ZP.ol(['display:grid;padding:9px 0 0;li{border-radius:5px;display:flex;flex-direction:column;height:51px;place-items:start;position:relative;width:100%;figure{display:flex;padding:9px 16px;place-items:center;position:relative;top:1px;figcaption{font-size:15px;font-weight:400;padding-left:12px;white-space:nowrap;}}&::before{border-top:1px solid rgba(80,80,80,55%);content:"";height:100%;position:absolute;width:100%;}&:first-child{&::before{border-top:none;}}&:hover{background-color:rgba(80,80,80,75%);&::before{border:none;}+ li{&::before{border-top:none;}}}}']),$=o.ZP.ol(["border-bottom:1px solid hsla(0,0%,13%,40%);color:#fff;display:flex;font-size:12px;font-weight:600;gap:1px;padding:2px 13px 0;position:absolute;li{color:rgb(215,215,215);padding:15px 13px 14px;&.active{border-bottom:4px solid rgb(0,120,215);color:#fff;}&:hover{color:#fff;}}"]);var B=()=>{let{sizes:{search:e}}=(0,o.Fg)(),t=`-${e.inputHeight}px`;return{animate:"active",exit:{bottom:t,position:"absolute",transition:{duration:u.Nb.TASKBAR_ITEM/10,ease:"easeIn"}},initial:"initial",transition:{duration:u.Nb.TASKBAR_ITEM/1,ease:"easeOut"},variants:{active:{bottom:0,position:"absolute"},initial:{bottom:t,position:"absolute"}}}},D=i(80155),P=i(85923),q=i(67364),F=i(37176),W=i(82883);let K=["All","Documents","Photos","Videos"],U=34,_="NO_RESULTS",Y=["FileExplorer","Terminal","Messenger","Browser","Paint"],G=["SpaceCadet","Quake3","DXBall"],X={Documents:{icon:(0,r.jsx)(c.d2,{}),subtitle:"for documents",title:"Documents"},Photos:{icon:(0,r.jsx)(c.sI,{}),title:"Photos"},Videos:{icon:(0,r.jsx)(c.kw,{}),title:"Videos"}};var Q=({toggleSearch:e})=>{let t=(0,l.useRef)(null),i=(0,l.useRef)(null),{recentFiles:c,updateRecentFiles:p}=(0,w.k)(),{lstat:x,readFile:g}=(0,m.o)(),[v,f]=(0,l.useState)("All"),{sizes:{search:y}}=(0,o.Fg)(),[A,T]=(0,l.useState)(550),V=A<550,H=(0,P.Z)(y.maxHeight+(V?U:0),!0,.1,0),I=B(),[C,M]=(0,l.useState)(!1),Q=(0,l.useCallback)(e=>{null==e||e.focus(u.eS),setTimeout(()=>M(!0),400),t.current=e},[]),[J,ee]=(0,l.useState)(""),et=(0,W.Rx)(J),[ei,er]=(0,l.useState)(""),[en,eo]=(0,l.useState)(""),{open:el}=(0,S.z)(),[es,ea]=(0,l.useState)([]),ed=(0,l.useMemo)(()=>{var e;return"All"===v?et[0]:null===(e=Object.fromEntries(es)[v])||void 0===e?void 0:e[0]},[v,et,es]),ec=(0,l.useRef)(null),ep=(0,l.useCallback)(e=>{if(t.current){var i;t.current.value=("All"===e?t.current.value:`${e}: ${t.current.value}`).replace(`${v}: `,""),null===(i=ec.current)||void 0===i||i.scrollTo(0,0)}eo(""),f(e)},[v]),eh=(0,l.useCallback)((t,i)=>{e(!1),el(t,i)},[el,e]),eu=(0,l.useRef)(0),ex=(0,l.useRef)(!1),eg=(0,l.useCallback)(()=>{ex.current||(ex.current=!0,(0,z.Q4)([W.VU,W.cM]))},[]);return(0,l.useEffect)(()=>{(null==ed?void 0:ed.ref)&&(!ei||ei!==(null==ed?void 0:ed.ref)||!en)?(er(ed.ref),i.current&&i.current.clientWidth>550&&eo(ed.ref)):!ed&&en&&eo("")},[en,ei,ed]),(0,l.useEffect)(()=>{let e=()=>{var e;return T((null===(e=i.current)||void 0===e?void 0:e.clientWidth)||0)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,l.useEffect)(()=>{et.length>0?et.reduce(async(e,t)=>{let i=await e,r=(0,n.extname)(t.ref),o="";return r===u.zm?t.ref.startsWith(`${u.sC}/`)?o="Photos":t.ref.startsWith(`${u.hV}/`)?o="VideoPlayer":{pid:o}=(0,d.CK)(await x(t.ref))?(0,d.cC)(t.ref):(0,d.OE)(await g(t.ref)):o=(0,d.Wd)(r),"Photos"===o?i.Photos.push(t):"VideoPlayer"===o?i.Videos.push(t):i.Documents.push(t),i},Promise.resolve({Documents:[],Photos:[],Videos:[]})).then(e=>ea(Object.entries(e))):ea([])},[x,g,et]),(0,r.jsx)(O,{ref:i,$singleLine:V,id:"searchMenu",onBlurCapture:r=>(0,D.Oh)(r,i.current,e,t.current,D.Hr,!0),onKeyDown:({key:t})=>{"Escape"===t&&e(!1)},...H,...u.LL,children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"content",onContextMenu:z.nK,children:[(0,r.jsx)($,{children:K.filter(e=>!(A<325&&"Videos"===e)&&!(A<260&&"Photos"===e)).map(e=>(0,r.jsx)("li",{className:e===v?"active":void 0,onClick:()=>ep(e),...(0,z.PS)("All"===e?"Find the most relevant results":`Find results in ${e}`),children:e},e))}),(0,r.jsx)("nav",{children:(0,r.jsx)(b.Z,{className:"close-button",onClick:()=>e(!1),...(0,z.PS)("Close Search"),children:(0,r.jsx)(q.Tw,{})})}),!J&&"All"===v&&(0,r.jsxs)(R,{$singleLine:V,className:V?"single-line":void 0,children:[(0,r.jsx)("section",{children:(0,r.jsxs)("figure",{children:[(0,r.jsx)("figcaption",{children:"Suggested"}),(0,r.jsx)(L,{children:Y.map(e=>(0,r.jsx)("li",{onClick:()=>eh(e),title:F.Z[e].title,children:(0,r.jsxs)("figure",{children:[(0,r.jsx)(j.Z,{displaySize:32,imgSize:32,src:F.Z[e].icon}),(0,r.jsx)("figcaption",{children:F.Z[e].title})]})},e))})]})}),(0,r.jsxs)("section",{children:[c.length>0&&(0,r.jsxs)(Z,{children:[(0,r.jsx)("figcaption",{children:"Recent"}),(0,r.jsx)("ol",{children:c.map(([e,t,i],o)=>{var l;return(0,r.jsxs)("li",{onClick:()=>{eh(t,{url:e}),0!==o&&setTimeout(()=>p(e,t,i),u.Nb.TASKBAR_ITEM*u.i2)},children:[(0,r.jsx)(j.Z,{displaySize:16,imgSize:16,src:null===(l=F.Z[t])||void 0===l?void 0:l.icon}),(0,r.jsx)("h2",{children:i||(0,n.basename)(e,(0,n.extname)(e))})]},`${e}${t}`)})})]}),(0,r.jsxs)("figure",{className:"card",children:[(0,r.jsxs)("figcaption",{children:[(0,r.jsx)(h.Ox,{}),"Games for you"]}),(0,r.jsx)("ol",{children:G.filter(e=>!(A<360&&"Quake3"===e)&&!(A<260&&"SpaceCadet"===e)).map(e=>F.Z[e]&&(0,r.jsxs)("li",{onClick:()=>eh(e),title:F.Z[e].title,children:[(0,r.jsx)(j.Z,{displaySize:56,imgSize:96,src:F.Z[e].icon}),(0,r.jsx)("h4",{children:F.Z[e].title})]},e))})]})]})]}),!J&&"All"!==v&&(0,r.jsxs)("div",{className:"tab",children:[X[v].icon,(0,r.jsxs)("h1",{children:["Search ",X[v].title.toLowerCase()]}),(0,r.jsxs)("h3",{children:["Start typing to search"," ",X[v].subtitle||X[v].title.toLowerCase()]})]}),J&&(0,r.jsxs)(N,{children:[(!V||!en)&&(0,r.jsxs)("div",{ref:ec,className:"list",children:[(0,r.jsx)(E,{activeItem:en,activeTab:v,openApp:eh,results:[ed||{ref:_}],searchTerm:J,setActiveItem:eo,title:"Best match",details:!0}),et.length>1&&es.map(([e,t])=>("All"===v||v===e)&&(0,r.jsx)(E,{activeItem:en,activeTab:v,changeTab:ep,openApp:eh,results:t.filter(e=>ed!==e),searchTerm:J,setActiveItem:eo,title:e},e))]}),en&&ed&&(0,r.jsx)(k,{openApp:eh,setActiveItem:eo,singleLineView:V,url:en||(null==ed?void 0:ed.ref)})]})]}),(0,r.jsxs)(s.m.div,{className:"search",...I,children:[(0,r.jsx)(a.Search,{}),(0,r.jsx)("input",{ref:Q,onChange:()=>{var e,i,r;let n="All"===v?"":`${v}: `,o=(null===(e=t.current)||void 0===e?void 0:e.value.startsWith(n))?null===(i=t.current)||void 0===i?void 0:i.value.replace(n,""):null===(r=t.current)||void 0===r?void 0:r.value;window.clearTimeout(eu.current),eu.current=window.setTimeout(()=>ee(o??""),eu.current>0?u._2:0)},onClick:ex.current?void 0:eg,onKeyDown:({key:e})=>{if(eg(),"Enter"===e&&(null==ed?void 0:ed.ref)){var t;let e=null===(t=i.current)||void 0===t?void 0:t.querySelector(".list li:first-child figure");null==e||e.click()}},placeholder:"Type here to search",style:{caretColor:C?void 0:"transparent"},...W.hZ})]})]})})}},10403:function(e,t,i){var r=i(10508),n=i(97836);t.Z=(e,t,i=0,o=!1)=>(0,r.iv)(["background-color:hsla(0,0%,13%,95%);border:",";border-bottom-width:0;bottom:","px;box-shadow:3px 0 10px 3px hsla(0,0%,10%,50%);contain:strict;display:flex;height:100%;left:","px;max-height:","px;max-width:","px;position:absolute;width:calc(100% - ","px);z-index:10000;@supports ((-webkit-backdrop-filter:none) or (backdrop-filter:none)){background-color:hsla(0,0%,13%,70%);}"],o?"1px solid hsla(0, 0%, 25%, 75%)":"none",n.bK,i,e,t,i)},85923:function(e,t,i){var r=i(97836),n=i(6484);t.Z=(e,t=!0,i=.5,o=.75)=>{let l=Math.min(e,(0,n.sI)()-r.bK);return{animate:"active",exit:{height:`${l*o}px`,transition:{duration:r.Nb.TASKBAR_ITEM/10,ease:"circIn"}},initial:"initial",transition:{duration:r.Nb.TASKBAR_ITEM,ease:"circOut"},variants:{active:{height:`${l}px`,paddingTop:0},initial:{height:`${l*o}px`,paddingTop:t?`${l*i}px`:0}}}}},67364:function(e,t,i){i.d(t,{J6:function(){return s},Tw:function(){return a},bJ:function(){return l},dO:function(){return o}});var r=i(85893),n=i(67294);let o=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 10 1",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M0 0h10v1H0z"})})),l=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M0 0v10h10V0H0zm1 1h8v8H1V1z"})})),s=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M2.1 0v2H0v8.1h8.2v-2h2V0H2.1zm5.1 9.2H1.1V3h6.1v6.2zm2-2.1h-1V2H3.1V1h6.1v6.1z"})})),a=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M10.2.7L9.5 0 5.1 4.4.7 0 0 .7l4.4 4.4L0 9.5l.7.7 4.4-4.4 4.4 4.4.7-.7-4.4-4.4z"})}))},82883:function(e,t,i){i.d(t,{cM:function(){return d},hZ:function(){return p},VU:function(){return c},Kk:function(){return v},Rx:function(){return f}});var r=i(1864),n=i(67294),o=i(20063),l=JSON.parse('{"I":[".cache",".json"],"K":[".md",".txt",".whtml"]}'),s=i(97836),a=i(6484);let d="/.index/search.lunr.json",c="/daedal-os/System/lunr/lunr.min.js",p={enterKeyHint:"search",inputMode:"search",type:"search",...s.AA},h=Object.create(null),u=[],x=async(e,t)=>{var i,r,n;if(window.lunr||await (0,a.mb)([c]),!t&&!(null==h?void 0:h.search)){let e=await fetch(d,s.P8);try{let{paths:t,...r}=JSON.parse(await e.text());h=null===(i=window.lunr)||void 0===i?void 0:i.Index.load(r),u=t}catch{}}let o=t??h,l=[],p=e.trim().replace(/\./g," ").replace(/\*~\^-\+/g,"");try{(null==(l=null===(r=o.search)||void 0===r?void 0:r.call(o,p))?void 0:l.length)===0&&(l=null===(n=o.search)||void 0===n?void 0:n.call(o,`${p.split(" ").join("* ")}*`))}catch{}return l?l.map(e=>({...e,ref:(Object.prototype.hasOwnProperty.call(u,e.ref)?u[e.ref]:e.ref)||""})):[]},g=async(e,t)=>{var i,n,o,s,d,c,p;let h=null==t?void 0:null===(i=t._getFs("/"))||void 0===i?void 0:i.fs,u=null==h?void 0:h.getOverlayedFileSystems(),x=null==u?void 0:u.writable,g=("function"==typeof(null==x?void 0:null===(o=x._cache)||void 0===o?void 0:null===(n=o.map)||void 0===n?void 0:n.keys)&&[...x._cache.map.keys()]||Object.keys((null==x?void 0:null===(s=x._cache)||void 0===s?void 0:s.map)||{})||[]).filter(e=>{let t=(0,a.RT)(e);return!!t&&!l.I.includes(t)}),v=await Promise.all(g.map(async t=>{let i=(0,r.basename)(t,(0,r.extname)(t));return{name:i,path:t,text:l.K.includes((0,a.RT)(t))?`${i} ${(await e(t)).toString()}`:i}})),f=null===(d=(c=window).lunr)||void 0===d?void 0:d.call(c,function(){this.ref("path"),this.field("name"),this.field("text"),v.forEach(e=>this.add(e))});return null===(p=window.lunr)||void 0===p?void 0:p.Index.load(f.toJSON())},v=async(e,t,i)=>{let r=await x(e),n=await g(t,i);return[...r,...await x(e,n)].sort((e,t)=>t.score-e.score)},f=e=>{let[t,i]=(0,n.useState)([]),{readFile:r,rootFs:l}=(0,o.o)();return(0,n.useEffect)(()=>{(async()=>{e.length>0?(window.lunr||await (0,a.mb)([c]),x(e).then(i),g(r,l).then(t=>x(e,t).then(e=>i(t=>[...t,...e].sort((e,t)=>t.score-e.score))))):i([])})()},[r,l,e]),t}}}]);