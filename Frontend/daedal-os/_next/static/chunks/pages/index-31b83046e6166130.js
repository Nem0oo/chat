(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405],{48312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(15274)}])},86401:function(e,t,r){"use strict";r.d(t,{Wd:function(){return i},vc:function(){return n},xJ:function(){return o}});let n={camera:{far:400,fov:30,near:.1},color:"hsl(225, 40%, 20%)",colorCycleSpeed:10,forceAnimate:!0,hh:50,hue:225,lightness:20,material:{options:{fog:!1,wireframe:!1}},saturation:40,shininess:35,waveHeight:20,waveSpeed:.25,ww:50},i={gyroControls:!1,mouseControls:!1,mouseEase:!1,touchControls:!1},o=["/daedal-os/System/Vanta.js/three.min.js","/daedal-os/System/Vanta.js/vanta.waves.min.js"]},28853:function(e,t,r){"use strict";r.d(t,{Ox:function(){return c},UV:function(){return l},UY:function(){return s},WQ:function(){return a},ol:function(){return o}});var n=r(85893),i=r(67294);let o=(0,i.memo)(()=>(0,n.jsx)("svg",{style:{border:"1px solid transparent",borderRight:0,borderTop:0,height:"17px",marginLeft:"-1px"},viewBox:"3 -1 30 30",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M21 0q1.516 0 2.922.391T26.547 1.5t2.227 1.727 1.727 2.227 1.109 2.625.391 2.922-.391 2.922-1.109 2.625-1.727 2.227-2.227 1.727-2.625 1.109-2.922.391q-1.953 0-3.742-.656t-3.289-1.891L1.703 31.705q-.297.297-.703.297t-.703-.297T0 31.002t.297-.703l12.25-12.266q-1.234-1.5-1.891-3.289T10 11.002q0-1.516.391-2.922T11.5 5.455t1.727-2.227 2.227-1.727T18.079.392t2.922-.391zm0 20q1.859 0 3.5-.711t2.859-1.93 1.93-2.859T30 11t-.711-3.5-1.93-2.859-2.859-1.93T21 2t-3.5.711-2.859 1.93-1.93 2.859T12 11t.711 3.5 1.93 2.859 2.859 1.93T21 20z",stroke:"#FFF",strokeWidth:"1"})})),l=(0,i.memo)(()=>(0,n.jsx)("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"m257.5 977.5 465-465.5-465-465.5 45-45 511 510.5-511 510.5z"})})),s=(0,i.memo)(()=>(0,n.jsx)("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M768 128h192v192h-64v-82.5l-228 228-45.5-45.5 228-228H768v-64zm0 384 64-64v384H0V256h640l-64 64H64v448h704V512z"})})),a=(0,i.memo)(()=>(0,n.jsx)("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M768 0q13 0 24.75 5t20.5 13.75T827 39.25 832 64v464q0 15.5 4.75 27t11.75 21.75 15.5 20.5T879.5 620t11.75 29 4.75 39v144q0 13-5 24.75t-13.75 20.5-20.5 13.75-24.75 5H384v64q0 19.5-10.75 35.5T344.5 1019q-11.5 5-24.5 5-26.5 0-45.5-19L128 858.5V0h640zM320 784q0-22.5 4.75-38.75t11.75-29T352 693.5t15.5-20.25 11.75-22T384 624V301.5l-192-192V832l128 128V784zm512-96q0-15.5-4.75-27t-11.75-21.75-15.5-20.5T784.5 596t-11.75-29-4.75-39V64H237.5l192 192q9 9 13.75 20.75T448 301.5V624q0 22.5-4.75 38.75t-11.75 29T416 714.5t-15.5 20.25-11.75 22T384 784v48h448V688z"})})),c=(0,i.memo)(()=>(0,n.jsx)("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M939.5 276.5q41 41 62.75 93.25T1024 480q0 17.5-1 42t-4.25 53-9.5 58.75T993 693q-15 43-35 70.25t-41.5 42.5T873 826.5t-41 5.5q-16.5 0-30.25-5.75t-26-14.75-23-20.75T731.5 767t-20.75-23-21.25-19.75T666.25 710t-26.75-6h-255q-14.5.5-26.75 6t-23.25 14.25T313.25 744t-20.75 23-21.25 23.75-23 20.75-26 14.75T192 832q-19 0-41-5.5t-43.5-20.75-41.5-42.5T31 693q-10-29-16.25-59.25T5.25 575 1 522t-1-42q0-58 21.75-110.25T84.5 276.5q40.5-41 93-62.75T288 192h448q58 0 110.25 21.75t93.25 62.75zm-7 395.5q9.5-26.5 15-55t8.25-54.75 3.5-47.75.75-34.5q0-46.5-17.75-87.25t-48-71-71-48T736 256H288q-46.5 0-87.25 17.75t-71 48-48 71T64 480q0 13 .75 34.5t3.5 47.75T76.5 617t15 55q12.5 36 27.5 55.5t29.25 28.5 26 10.5T192 768q11 0 24.25-13.25T244 725q12-14 25.75-28.75t30.5-27T337.5 649t45.5-9h258q25 1 45.5 9t37.25 20.25 30.5 27T780 725q14.5 16.5 27.75 29.75T832 768q6 0 17.75-1.5t26-10.5T905 727.5t27.5-55.5zM256 448h64v64h-64v64h-64v-64h-64v-64h64v-64h64v64zm576 64q13.5 0 25 5t20.25 13.75T891 551t5 25-5 25-13.75 20.25T857 635t-25 5-25-5-20.25-13.75T773 601t-5-25 5-25 13.75-20.25T807 517t25-5zM704 384q13.5 0 25 5t20.25 13.75T763 423t5 25-5 25-13.75 20.25T729 507t-25 5-25-5-20.25-13.75T645 473t-5-25 5-25 13.75-20.25T679 389t25-5z"})}))},80155:function(e,t,r){"use strict";r.d(t,{Hr:function(){return o},Oh:function(){return l},rF:function(){return i}});var n=r(97836);let i="Start",o="Type here to search",l=({relatedTarget:e},t,r,i,o,l=!1)=>{if(!(e&&(null==t?void 0:t.contains(e)))){let a=null==t?void 0:t.nextSibling,c=e===a,u=(null==e?void 0:e.parentElement)===a,d=(null==e?void 0:e.title)===o;if(e&&(l&&c||!c&&(!u||!d)))r(!1);else{var s;null===(s=i||t)||void 0===s||s.focus(n.eS)}}}},72446:function(e,t,r){"use strict";var n=r(67294);t.Z=(e,t,r)=>{let i=(0,n.useRef)();return(0,n.useEffect)(()=>(e&&!i.current&&(i.current=e(r),t&&i.current.addEventListener("message",t,{passive:!0}),i.current.postMessage("init")),()=>{var e;null===(e=i.current)||void 0===e||e.terminate(),i.current=void 0}),[t,r,e]),i}},15274:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return eh}});var n=r(85893),i=r(67294),o=r(51526),l=r(5152),s=r.n(l),a=r(58437);let c=s()(()=>r.e(8864,"high").then(r.bind(r,78864)),{loadableGenerated:{webpack:()=>[78864]}});var u=(0,i.memo)(()=>{let{processes:e={}}=(0,a.z)();return(0,n.jsx)(o.M,{initial:!1,presenceAffectsLayout:!1,children:Object.entries(e).map(([e,{closing:t,Component:r,hasWindow:i}])=>e&&r&&!t&&(0,n.jsx)(c,{Component:r,hasWindow:i,id:e},e))})}),d=r(10508);let h=d.ZP.main(["background-color:transparent;contain:strict;height:100%;inset:0;overscroll-behavior:none;position:fixed;width:100vw;#loading-status{background-color:#fff;border-radius:10px;display:none;font-weight:600;left:50%;padding:15px;position:absolute;top:50%;transform:translate(-50%,-50%);user-select:none;}> canvas{background-color:inherit;height:100%;left:0;object-fit:cover;position:absolute;top:0;width:100%;z-index:-1;}"]);var p=r(1864),v=r(10393),f=r(86401),m=r(20063),w=r(76488),g=r(72446),b=r(97836),x=r(6484);let E=Object.keys(v.YH),k=[];var y=e=>{let{exists:t,lstat:n,readFile:o,readdir:l,updateFolder:s,writeFile:a}=(0,m.o)(),{sessionLoaded:c,setWallpaper:u,wallpaperImage:h,wallpaperFit:y}=(0,w.k)(),{colors:T}=(0,d.Fg)(),[S]=h.split(" "),j="VANTA WIREFRAME"===h,R=(0,g.Z)(v.YH[S],void 0,j?"Wireframe":""),C=(0,i.useRef)(),L=(0,i.useRef)(!1),M=(0,i.useCallback)(async r=>{var n,i,l,s,a,c;let d;if(!e.current)return;let{matches:p}=window.matchMedia("(prefers-reduced-motion: reduce)"),m=!window.top||window===window.top;if(!m)try{m=window.location.origin!==(null===(n=window.top)||void 0===n?void 0:n.location.origin)}catch{m=!0}if("VANTA"===S)d={...f.vc,waveSpeed:f.vc.waveSpeed*(p?.1:1)},f.vc.material.options.wireframe=j||!m;else if(h.startsWith("MATRIX"))d={animationSpeed:p?.1:1,volumetric:h.endsWith("3D"),...m?{}:{fallSpeed:-.09,forwardSpeed:-.25}};else if("STABLE_DIFFUSION"===S){let e=`${b.sC}/${b.dd}`;await t(e)&&(d={prompts:JSON.parse((null===(i=await o(e))||void 0===i?void 0:i.toString())||"[]")})}if(document.documentElement.style.setProperty("background",document.documentElement.style.background.replace(/".*"/,"")),r||(null===(l=e.current.querySelector(v.$3))||void 0===l||l.remove(),null===(s=(a=window).WallpaperDestroy)||void 0===s||s.call(a)),!L.current&&void 0!==window.OffscreenCanvas&&R.current){let t={config:d,devicePixelRatio:1};if(r)R.current.postMessage(t);else{let r=(0,x.nS)(e.current);if(R.current.postMessage({canvas:r,...t},[r]),R.current.addEventListener("message",({data:e})=>{"[error]"===e.type&&(e.message.includes("getContext")?(L.current=!0,M()):u("SLIDESHOW"))}),"STABLE_DIFFUSION"===S){let t=document.createElement("div");t.id="loading-status",null===(c=e.current)||void 0===c||c.append(t),window.WallpaperDestroy=()=>{t.remove(),window.WallpaperDestroy=void 0},R.current.addEventListener("message",({data:e})=>{"[error]"===e.type?u("VANTA"):e.type?t.textContent=e.message||"":e.message||(C.current=window.setTimeout(()=>M(!0),10*b.qe)),t.style.display=e.message?"block":"none"})}}}else v.dI[S]?v.dI[S]().then(({default:t})=>null==t?void 0:t(e.current,d)).catch(()=>u("VANTA")):u("VANTA")},[e,t,o,u,j,h,S,R]),q=(0,i.useCallback)(async e=>(await l(e)).reduce(async(t,r)=>{let i=(0,p.join)(e,r);return[...await t,...(await n(i)).isDirectory()?await q(i):[b.lM.has((0,x.RT)(i))&&!b.vb.has((0,x.RT)(i))?i:""]].filter(Boolean)},Promise.resolve([])),[l,n]),P=(0,i.useCallback)(async()=>{var n,i,l,c,d,p,f,m,w;let[,g]=/"(.*?)"/.exec(document.documentElement.style.background)||[];(null==g?void 0:g.startsWith("blob:"))&&(0,x.EK)(g),null===(i=e.current)||void 0===i||null===(n=i.querySelector(v.$3))||void 0===n||n.remove(),null===(c=e.current)||void 0===c||null===(l=c.querySelector(v.vF))||void 0===l||l.remove(),null===(d=(p=window).WallpaperDestroy)||void 0===d||d.call(p);let E="",j="",R=y,L="SLIDESHOW"===S;if(L){let e=`${b.sC}/${b.rH}`;await t(e)||(await a(e,JSON.stringify(await t(b.sC)?await q(b.sC):"[]")),s(b.sC,b.rH)),0===k.length&&k.push(...[...new Set(JSON.parse((null===(f=await o(e))||void 0===f?void 0:f.toString())||"[]"))].sort(()=>Math.random()-.5));do{E=k.shift()||"";let[e]=k;if(e){let t=document.createElement("link");t.id="preloadWallpaper",t.href=e,t.rel="preload",t.as="image",null===(m=document.querySelector("#preloadWallpaper"))||void 0===m||m.remove(),document.head.append(t)}E.startsWith("/")&&(E=`${window.location.origin}${E}`)}while(g===E&&k.length>1);R="fill"}else if("APOD"===S){let[,e]=h.split(" "),[t,,r,,n]=new Intl.DateTimeFormat(b.ZW,{timeZone:"US/Eastern"}).formatToParts(Date.now()).map(({value:e})=>e);if(e===`${n}-${t}-${r}`)return;let{date:i="",hdurl:o="",url:l=""}=await (0,x.AC)("https://api.nasa.gov/planetary/apod?api_key=DEMO_KEY");if(o||l){if(E=((0,x.E9)()>1024?o:l)||l,R="fit",(0,x.yk)(E)){let e=`https://i.ytimg.com/vi/${(0,x.Ld)(E)}`;E=`${e}/maxresdefault.jpg`,j=`${e}/hqdefault.jpg`}else o&&l&&o!==l&&(j=E===l?o:l);let e=`APOD ${E} ${i}`;e!==h&&(u(e,R),setTimeout(M,b.xR))}}else if(await t(h)){let{decodeImageToBuffer:e}=await r.e(4609,"high").then(r.bind(r,14609)),t=await o(h),n=await e((0,x.RT)(h),t);E=(0,x.YS)(n||t)}if(E){if(b.qy.has((0,x.RT)(h))){let t=document.createElement("video");t.src=E,t.autoplay=!0,t.controls=!1,t.disablePictureInPicture=!0,t.disableRemotePlayback=!0,t.loop=!0,t.muted=!0,t.playsInline=!0,t.style.position="absolute",t.style.inset="0",t.style.width="100%",t.style.height="100%",t.style.objectFit="cover",t.style.objectPosition="center center",t.style.zIndex="-1",null===(w=e.current)||void 0===w||w.append(t)}else{let e=e=>{let t="tile"===R?"repeat":"no-repeat",r=v.QC[R],n=window===window.top;document.documentElement.style.setProperty("background",`url(${CSS.escape(e)}) ${r} ${t} fixed border-box border-box ${n?T.background:T.text}`),n||document.documentElement.style.setProperty("background-blend-mode","difference")};j?fetch(E,{...b.P8,mode:"no-cors"}).then(({ok:e})=>{if(!e)throw Error("Failed to load url")}).catch(()=>e(j)):(e(E),L&&(C.current=window.setTimeout(P,b.KG)))}}else M()},[T,e,t,q,M,o,u,s,y,h,S,a]);(0,i.useEffect)(()=>{c&&!window.DEBUG_DISABLE_WALLPAPER&&(C.current&&window.clearTimeout(C.current),S&&!E.includes(S)?P().catch(M):M())},[P,M,c,S]),(0,i.useEffect)(()=>{let t=()=>{var t;if(!e.current||!v.dI[S])return;let r=e.current.getBoundingClientRect();null===(t=R.current)||void 0===t||t.postMessage(r);let n=e.current.querySelector(v.$3);n instanceof HTMLCanvasElement&&(n.style.width=`${r.width}px`,n.style.height=`${r.height}px`)};return window.addEventListener("resize",t,{passive:!0}),()=>window.removeEventListener("resize",t)},[e,S,R])},T=r(54110),S=({children:e})=>{let t=(0,i.useRef)(null);return y(t),(0,n.jsxs)(h,{ref:t,children:[(0,n.jsx)(T.Z,{url:b.Ll,view:"icon",allowMovingDraggableEntries:!0,hideLoading:!0,hideScrolling:!0,isDesktop:!0,loadIconsImmediately:!0}),e]})},j=r(6155);let R=d.ZP.div(["color:",";display:flex;font-size:",";height:100%;max-width:",";min-width:","px;padding:",";place-content:center;place-items:center;position:absolute;right:0;white-space:nowrap;&:hover{background-color:",";}&:active{background-color:",";}"],({theme:e})=>e.colors.text,({theme:e})=>e.sizes.clock.fontSize,({theme:e,$width:t})=>`calc(${t}px + ${2*e.sizes.clock.padding}px)`,({$width:e})=>e,({theme:e})=>`0 ${e.sizes.clock.padding}px`,({theme:e})=>e.colors.taskbar.hover,({theme:e})=>e.colors.taskbar.foreground);var C=r(7502),L=e=>{let{contextMenu:t}=(0,C.H)(),{clockSource:r,setClockSource:n}=(0,w.k)();return(0,i.useMemo)(()=>null==t?void 0:t(()=>{e(!1);let t="local"===r;return[{action:()=>n("local"),label:"Local time",toggle:t},{action:()=>n("ntp"),label:"Server time",toggle:!t}]}),[r,t,n,e])};let M={local:"Local",ntp:"Server"},q=7,P=()=>{q=7},z=async({target:e})=>{if(7===q&&e instanceof HTMLElement&&(e.removeEventListener("mouseleave",P),e.addEventListener("mouseleave",P,b.K7)),0==(q-=1)){let{default:e}=await r.e(2163,"high").then(r.bind(r,82163));e(),q=7}};var $=(0,i.memo)(({setClockWidth:e,toggleCalendar:t,width:o})=>{let[l,s]=(0,i.useState)(Object.create(null)),{date:a,time:c}=l,{clockSource:u}=(0,w.k)(),h=(0,i.useCallback)(()=>new Worker(r.tu(new URL(r.p+r.u(2552),r.b)),{name:`Clock (${M[u]})`}),[u]),p=(0,i.useRef)(),v=(0,i.useMemo)(()=>"OffscreenCanvas"in window,[]),f=(0,i.useCallback)(({data:e,target:t})=>{"source"===e?t.postMessage(u):s(t=>p.current&&t.date===e.date?t:e)},[u]),m=L(t),E=(0,g.Z)(h,f),k=(0,i.useRef)({height:b.bK,width:o}),{formats:{systemFont:y},sizes:{clock:{fontSize:T}}}=(0,d.Fg)(),S=(0,i.useCallback)(()=>Math.min(Math.max(b.Ml,Math.ceil((0,j.X1)("44:44:44 AM",T,y))),1.5*b.Ml),[T,y]),C=(0,i.useCallback)(t=>{!p.current&&E.current&&t instanceof HTMLDivElement&&([...t.children].forEach(e=>e.remove()),k.current.width=S(),e(k.current.width),p.current=(0,x.nS)(t,window.devicePixelRatio,k.current),E.current.postMessage({canvas:p.current,devicePixelRatio:window.devicePixelRatio},[p.current]))},[E,l]),q=(0,i.useCallback)(e=>{z(e),t()},[t]);return((0,i.useEffect)(()=>{p.current=void 0},[u]),(0,i.useEffect)(()=>{if(v){let e=()=>window.matchMedia(`(resolution: ${window.devicePixelRatio}x)`).addEventListener("change",()=>{var t;null===(t=E.current)||void 0===t||t.postMessage({clockSize:k.current,devicePixelRatio:window.devicePixelRatio}),e()},b.K7);e()}else e(S())},[E,S,e,v]),c)?(0,n.jsx)(R,{ref:v?C:void 0,$width:o,"aria-label":"Clock",onClick:q,role:"timer",title:a,suppressHydrationWarning:!0,...m,...b.LL,children:v?void 0:c}):null}),O=r(28853),W=r(67278);let A=(0,d.ZP)(W.Z)(["background-color:",";display:flex;fill:",";height:100%;left:",";place-content:center;place-items:center;position:absolute;&&{width:","px;}svg{height:",";}&:hover{background-color:",";svg{fill:",";}}&:active{background-color:hsla(0,0%,20%,70%);svg{fill:",";}}"],({$active:e,$highlight:t,theme:r})=>e&&(t?r.colors.taskbar.foreground:"hsla(0, 0%, 25%, 50%)"),({theme:e})=>e.colors.taskbar.button.color,({$left:e})=>e?`${e}px`:0,({theme:e})=>e.sizes.taskbar.button.width,({theme:e})=>e.sizes.taskbar.button.iconSize,({$active:e,theme:t})=>e?t.colors.taskbar.foreground:t.colors.taskbar.hover,({$highlight:e,theme:t})=>e?t.colors.highlight:void 0,({$highlight:e})=>e?"hsla(207, 100%, 60%, 80%)":void 0);var F=r(80155),D=r(8955),H=r(86178),I=(e=!1)=>{let{contextMenu:t}=(0,C.H)(),{minimize:r,open:n}=(0,a.z)(),{stackOrder:o}=(0,w.k)(),l=(0,H.R)(),{fullscreenElement:s,toggleFullscreen:c}=(0,D.S)();return(0,i.useMemo)(()=>null==t?void 0:t(()=>{let t=Object.entries(l.current),i=t.length>0&&!t.some(([,{minimized:e}])=>!e),a=[{action:()=>(0,x.xr)(l.current,o,r),label:e?"Desktop":i?"Show open windows":"Show the desktop"}];return e?a.unshift({action:()=>n("Terminal"),label:"Terminal"},b.Os,{action:()=>n("FileExplorer"),label:"File Explorer"},{action:()=>n("Run"),label:"Run"},b.Os):a.unshift({action:()=>c(),label:s===document.documentElement?"Exit full screen":"Enter full screen"},b.Os),a}),[t,s,r,e,n,l,o,c])},V=({searchVisible:e,toggleSearch:t})=>{let{sizes:{taskbar:r}}=(0,d.Fg)();return(0,n.jsx)(A,{$active:e,$left:r.button.width,onClick:()=>t(),...b.Yj,...(0,x.PS)(F.Hr),...I(),children:(0,n.jsx)(O.ol,{})})};let _=(0,i.memo)(()=>(0,n.jsx)("svg",{viewBox:"0 0 588.42 568.88",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"m10.5 177.038 20.675 1.532c21.44-24.249 29.864-95.974 156.213-81.935-4.595 307.32-139.367 339.737-130.943 402.784 3.063 35.735 31.395 57.687 62.025 58.963 96.74-3.318 92.4-133.751 122.52-462.513h124.818c-6.637 115.883-24.76 231.767-26.802 345.353 1.532 75.554 47.477 115.884 107.971 116.394 99.548 3.318 130.943-112.82 130.943-162.339h-21.44c-2.043 40.84-21.697 70.194-63.558 71.98-114.097 1.532-51.305-200.626-50.54-369.857l135.538.766-.765-86.53C13.807 8.908 85.312-2.137 10.5 177.038z"})}));var N=({startMenuVisible:e,toggleStartMenu:t})=>{let[o,l]=(0,i.useState)(!1),s=(0,i.useRef)(!1),a=(0,i.useCallback)(async()=>{if(s.current)return;s.current=!0;let e=Object.prototype.hasOwnProperty.call(HTMLLinkElement.prototype,"imageSrcset"),t=[...document.querySelectorAll("link[rel=preload]")],n=(await r.e(8530,"high").then(r.t.bind(r,18530,19))).default;null==n||n.forEach(r=>{let n=document.createElement("link");if(n.as="image",n.fetchPriority="high",n.rel="preload",n.type="image/webp",(0,x.qs)(r)){if(e)n.imageSrcset=(0,x.km)(r,48,".webp");else{let[e]=(0,x.RU)(r,48,(0,x.bN)(),".webp").split(" ");n.href=e}}else n.href=r;t.some(e=>{var t,r;return n.imageSrcset&&(null==e?void 0:null===(t=e.imageSrcset)||void 0===t?void 0:t.endsWith(n.imageSrcset))||n.href&&(null==e?void 0:null===(r=e.href)||void 0===r?void 0:r.endsWith(n.href))})||document.head.append(n)}),l(!0)},[]),c=(0,i.useCallback)(async({ctrlKey:e,shiftKey:n})=>{if(o||a(),t(),e&&n){let{default:e}=await r.e(2163,"high").then(r.bind(r,82163));e()}},[a,o,t]);return(0,n.jsx)(A,{$active:e,onClick:c,onMouseOver:o?void 0:a,$highlight:!0,...b.Yj,...(0,x.PS)(F.rF),...I(!0),children:(0,n.jsx)(_,{})})};let B=d.ZP.nav(["backdrop-filter:",";background-color:",";bottom:0;contain:size layout;height:","px;left:0;position:absolute;right:0;width:100vw;z-index:100000;"],({theme:e})=>`blur(${e.sizes.taskbar.blur})`,({theme:e})=>e.colors.taskbar.background,b.bK),U=d.ZP.ol(["column-gap:1px;display:flex;height:100%;left:","px;margin:0 3px;overflow:hidden;position:absolute;right:",";"],({theme:e})=>2*e.sizes.taskbar.button.width,({$clockWidth:e,theme:t})=>`calc(${e}px + ${2*t.sizes.clock.padding}px)`),K=s()(()=>r.e(2719,"high").then(r.bind(r,22719)),{loadableGenerated:{webpack:()=>[22719]}});var Z=(0,i.memo)(({clockWidth:e})=>{let{processes:t={}}=(0,a.z)();return(0,n.jsx)(U,{$clockWidth:e,children:(0,n.jsx)(o.M,{initial:!1,presenceAffectsLayout:!1,children:Object.entries(t).filter(([,{closing:e,hideTaskbarEntry:t}])=>!e&&!t).map(([e,{icon:t,title:r}])=>(0,n.jsx)(K,{icon:t,id:e,title:r},e))})})});let Y=s()(()=>r.e(9641,"high").then(r.bind(r,19641)),{loadableGenerated:{webpack:()=>[19641]}}),G=s()(()=>r.e(3638,"high").then(r.bind(r,53638)),{loadableGenerated:{webpack:()=>[53638]}}),X=s()(()=>r.e(2410,"high").then(r.bind(r,32410)),{loadableGenerated:{webpack:()=>[32410]}});var J=(0,i.memo)(()=>{let[e,t]=(0,i.useState)(!1),[r,l]=(0,i.useState)(!1),[s,a]=(0,i.useState)(!1),[c,u]=(0,i.useState)(b.Ml),d=(0,i.useCallback)(e=>t(t=>e??!t),[]),h=(0,i.useCallback)(e=>l(t=>e??!t),[]),p=(0,i.useCallback)(e=>a(t=>e??!t),[]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.M,{initial:!1,presenceAffectsLayout:!1,children:[e&&(0,n.jsx)(X,{toggleStartMenu:d},"startMenu"),r&&(0,n.jsx)(G,{toggleSearch:h},"search")]}),(0,n.jsxs)(B,{...I(),...b.LL,children:[(0,n.jsx)(N,{startMenuVisible:e,toggleStartMenu:d}),(0,n.jsx)(V,{searchVisible:r,toggleSearch:h}),(0,n.jsx)(Z,{clockWidth:c}),(0,n.jsx)($,{setClockWidth:u,toggleCalendar:p,width:c})]}),(0,n.jsx)(o.M,{initial:!1,presenceAffectsLayout:!1,children:s&&(0,n.jsx)(Y,{toggleCalendar:p})})]})}),Q=()=>{(0,i.useEffect)(()=>{let e=e=>{var t,r;(null===(r=e.error)||void 0===r?void 0:null===(t=r.stack)||void 0===t?void 0:t.includes("eval at <anonymous>"))&&(0,x.nK)(e)};return window.addEventListener("error",e),()=>window.removeEventListener("error",e)},[])};let ee=e=>document.querySelector(`main > nav > div[title='${e}']`),et=!1,er=!1,en=!1,ei=e=>((0,x.nK)(e),!!en||(en=!0,setTimeout(()=>{en=!1},b._2),!1)),eo=new Set(["ARROWDOWN","ARROWUP","D","E","R","S","X"]),el=e=>{let{altKey:t,ctrlKey:r,shiftKey:n,metaKey:i}=e;window.globalKeyStates={altKey:t,ctrlKey:r,metaKey:i,shiftKey:n}};var es=()=>{let{closeWithTransition:e,maximize:t,minimize:r,open:n}=(0,a.z)(),o=(0,H.R)(),{foregroundId:l,stackOrder:s}=(0,w.k)(),{fullscreenElement:c,toggleFullscreen:u}=(0,D.S)(),d=(0,i.useRef)({}),h=(0,i.useRef)({E:()=>n("FileExplorer"),ESCAPE:()=>{var e;return null===(e=ee(F.rF))||void 0===e?void 0:e.click()},F10:()=>n("Terminal"),F12:()=>n("DevTools"),F5:()=>window.location.reload(),R:()=>n("Run"),S:()=>{var e;return null===(e=ee(F.Hr))||void 0===e?void 0:e.click()},X:()=>{var e;return null===(e=ee(F.rF))||void 0===e?void 0:e.dispatchEvent(new MouseEvent("contextmenu",{clientX:1,clientY:(0,x.sI)()-1}))}});(0,i.useEffect)(()=>{let e=e=>{var t,r,n,i,o,l,s,a,p;el(e);let{altKey:v,ctrlKey:f,key:m,shiftKey:w}=e,g=null==m?void 0:m.toUpperCase();g&&(w?(f||!eo.has(g))&&(null===(r=h.current)||void 0===r?void 0:r[g])&&!ei(e)&&h.current[g]():"F11"===g?((0,x.nK)(e),u()):document.activeElement===document.body&&g.startsWith("ARROW")?null===(n=document.body.querySelector("main ol li button"))||void 0===n||n.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})):f&&v&&(null===(t=d.current)||void 0===t?void 0:t[g])?null===(o=d.current)||void 0===o||null===(i=o[g])||void 0===i||i.call(o):c===document.documentElement&&("META"===g?et=!0:v&&(null===(l=d.current)||void 0===l?void 0:l[g])?((0,x.nK)(e),null===(p=d.current)||void 0===p||null===(a=p[g])||void 0===a||a.call(p)):"ESCAPE"===g?document.pointerLockElement?document.exitPointerLock():u():et&&eo.has(g)&&(null===(s=h.current)||void 0===s?void 0:s[g])&&!ei(e)&&(er=!0,h.current[g]())))},t=e=>{var t,r;el(e),et&&c===document.documentElement&&(null===(t=e.key)||void 0===t?void 0:t.toUpperCase())==="META"&&(et=!1,er?er=!1:null===(r=ee(F.rF))||void 0===r||r.click())};return document.addEventListener("keydown",e,{capture:!0}),document.addEventListener("keyup",t,{capture:!0,passive:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("keyup",t,{capture:!0})}},[c,u]),(0,i.useEffect)(()=>{d.current={...d.current,F4:()=>e(l)}},[e,l]),(0,i.useEffect)(()=>{h.current={...h.current,ARROWDOWN:()=>{let{hideMinimizeButton:e=!1,maximized:n,minimized:i}=o.current[l];n?t(l):i||e||r(l)},ARROWUP:()=>{let{allowResizing:e=!0,hideMaximizeButton:n=!1,maximized:i,minimized:s}=o.current[l];s?r(l):i||!e||n||t(l)},D:()=>(0,x.xr)(o.current,s,r)}},[l,t,r,o,s])},ea=()=>{let{setForegroundId:e}=(0,w.k)(),t=(0,H.R)();(0,i.useEffect)(()=>{let r=()=>{if(document.activeElement instanceof HTMLIFrameElement){let[r]=Object.entries(t.current).find(([,{componentWindow:e}])=>null==e?void 0:e.contains(document.activeElement))||[];r&&(e(r),window.addEventListener("click",({target:r})=>{let[n=""]=Object.entries(t.current).find(([,{componentWindow:e}])=>r instanceof HTMLElement&&(null==e?void 0:e.contains(r)))||[];e(n)},b.K7))}};return window.addEventListener("blur",r,{passive:!0}),()=>window.removeEventListener("blur",r)},[t,e])},ec=r(37176);let eu=e=>e.startsWith("http://")||e.startsWith("https://")||e.startsWith("chrome://");var ed=()=>{let{exists:e,fs:t}=(0,m.o)(),{open:r}=(0,a.z)(),n=(0,i.useRef)(!1);(0,i.useEffect)(()=>{if(n.current||!t||!e||!r)return;n.current=!0;let i=(0,x.kp)("app"),o=(0,x.kp)("url"),l=async t=>{if(!t)return;let n=!1;try{n="Browser"===t&&eu(o)||await e(o)}catch{}("FileExplorer"!==t||!o||n)&&r(t,n?{url:o}:void 0)};if(i)l(Object.fromEntries(Object.keys(ec.Z).map(e=>[e.toLowerCase(),e]))[i.toLowerCase()]);else if(o){let e=(0,x.RT)(o);l(eu(o)?"Browser":e?(0,j.Wd)(e):"FileExplorer")}},[e,t,r])},eh=(0,i.memo)(()=>(ea(),ed(),es(),Q(),(0,n.jsxs)(S,{children:[(0,n.jsx)(J,{}),(0,n.jsx)(u,{})]})))},51526:function(e,t,r){"use strict";r.d(t,{M:function(){return g}});var n=r(85893),i=r(67294),o=r(58868);function l(){let e=(0,i.useRef)(!1);return(0,o.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var s=r(26166),a=r(240),c=r(96681),u=r(16014);class d extends i.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function h({children:e,isPresent:t}){let r=(0,i.useId)(),o=(0,i.useRef)(null),l=(0,i.useRef)({width:0,height:0,top:0,left:0}),{nonce:s}=(0,i.useContext)(u._);return(0,i.useInsertionEffect)(()=>{let{width:e,height:n,top:i,left:a}=l.current;if(t||!o.current||!e||!n)return;o.current.dataset.motionPopId=r;let c=document.createElement("style");return s&&(c.nonce=s),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${n}px !important;
            top: ${i}px !important;
            left: ${a}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),(0,n.jsx)(d,{isPresent:t,childRef:o,sizeRef:l,children:i.cloneElement(e,{ref:o})})}let p=({children:e,initial:t,isPresent:r,onExitComplete:o,custom:l,presenceAffectsLayout:s,mode:u})=>{let d=(0,c.h)(v),p=(0,i.useId)(),f=(0,i.useMemo)(()=>({id:p,initial:t,isPresent:r,custom:l,onExitComplete:e=>{for(let t of(d.set(e,!0),d.values()))if(!t)return;o&&o()},register:e=>(d.set(e,!1),()=>d.delete(e))}),s?[Math.random()]:[r]);return(0,i.useMemo)(()=>{d.forEach((e,t)=>d.set(t,!1))},[r]),i.useEffect(()=>{r||d.size||!o||o()},[r]),"popLayout"===u&&(e=(0,n.jsx)(h,{isPresent:r,children:e})),(0,n.jsx)(a.O.Provider,{value:f,children:e})};function v(){return new Map}var f=r(25364),m=r(45487);let w=e=>e.key||"",g=({children:e,custom:t,initial:r=!0,onExitComplete:a,exitBeforeEnter:c,presenceAffectsLayout:u=!0,mode:d="sync"})=>{var h;(0,m.k)(!c,"Replace exitBeforeEnter with mode='wait'");let v=(0,i.useContext)(f.p).forceRender||function(){let e=l(),[t,r]=(0,i.useState)(0),n=(0,i.useCallback)(()=>{e.current&&r(t+1)},[t]);return[(0,i.useCallback)(()=>s.Wi.postRender(n),[n]),t]}()[0],g=l(),b=function(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}(e),x=b,E=(0,i.useRef)(new Map).current,k=(0,i.useRef)(x),y=(0,i.useRef)(new Map).current,T=(0,i.useRef)(!0);if((0,o.L)(()=>{T.current=!1,function(e,t){e.forEach(e=>{let r=w(e);t.set(r,e)})}(b,y),k.current=x}),h=()=>{T.current=!0,y.clear(),E.clear()},(0,i.useEffect)(()=>()=>h(),[]),T.current)return(0,n.jsx)(n.Fragment,{children:x.map(e=>(0,n.jsx)(p,{isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:u,mode:d,children:e},w(e)))});x=[...x];let S=k.current.map(w),j=b.map(w),R=S.length;for(let e=0;e<R;e++){let t=S[e];-1!==j.indexOf(t)||E.has(t)||E.set(t,void 0)}return"wait"===d&&E.size&&(x=[]),E.forEach((e,r)=>{if(-1!==j.indexOf(r))return;let i=y.get(r);if(!i)return;let o=S.indexOf(r),l=e;l||(l=(0,n.jsx)(p,{isPresent:!1,onExitComplete:()=>{E.delete(r);let e=Array.from(y.keys()).filter(e=>!j.includes(e));if(e.forEach(e=>y.delete(e)),k.current=b.filter(t=>{let n=w(t);return n===r||e.includes(n)}),!E.size){if(!1===g.current)return;v(),a&&a()}},custom:t,presenceAffectsLayout:u,mode:d,children:i},w(i)),E.set(r,l)),x.splice(o,0,l)}),x=x.map(e=>{let t=e.key;return E.has(t)?e:(0,n.jsx)(p,{isPresent:!0,presenceAffectsLayout:u,mode:d,children:e},w(e))}),(0,n.jsx)(n.Fragment,{children:E.size?x:x.map(e=>(0,i.cloneElement)(e))})}}},function(e){e.O(0,[4110,2888,9774,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);