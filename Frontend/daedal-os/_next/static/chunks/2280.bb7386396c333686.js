"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2280,3333],{12280:function(e,n,t){t.r(n),t.d(n,{default:function(){return p}});var r=t(85893);let i=t(10508).ZP.div(["canvas{height:100%;object-fit:contain;width:100%;}"]);var a=t(1864),l=t(67294);let o="/daedal-os/Program Files/DX-Ball/dx-ball.sav",s=["DXBall","audioName","i","source","game","soundon","saveron","myFonts","font","animframe","color","FontList","lFile","canvas","ctx","file","c","descender","_0x56c3xc","temp","cl","user","paus","paused","naudio","nflash","audio","balls","bricks","bullets","bang","flash","records","lightning","shadow","chcur","highscore","saver","y","x","mouse","paddle","bonus","requestAnimFrame","curX","j","height","xp","yp","_0x56c3x8","vm"];var c=t(20063),u=t(58437),d=t(97836),f=t(6484),m=t(11394),v=({id:e,setLoading:n})=>{let{readFile:t,writeFile:r,updateFolder:i}=(0,c.o)(),{processes:{[e]:v}}=(0,u.z)(),{closing:w,libs:p=[]}=v||{},b=(0,l.useRef)(),h=(0,l.useRef)(!0);(0,l.useEffect)(()=>{t(o).then(e=>{b.current=e.toString()}).catch(()=>{b.current=""})},[t]),(0,l.useEffect)(()=>{h.current&&(h.current=!1,(0,f.mb)(p,void 0,!0).then(()=>{var e;null===(e=window.DXBall)||void 0===e||e.init(()=>n(!1),(e,n)=>(b.current=`${b.current?`${b.current}\r`:""}#&${n}&${e}`.split("\r").map(e=>e.split("&")).sort(([,e],[,n])=>Number(n)-Number(e)).map(([,e,n],t)=>`${t}&${e}&${n}`).join("\r"),r(o,b.current,!0),i((0,a.dirname)(o),(0,a.basename)(o)),`${b.current}\r`))}))},[p,n,i,r]),(0,l.useEffect)(()=>()=>{!h.current&&w&&(window.DXBall.close(),setTimeout(()=>(0,m.od)(s),d.jx.WINDOW))},[w])},w=t(7443),p=({id:e})=>(0,r.jsx)(w.Z,{StyledComponent:i,id:e,useHook:v,children:(0,r.jsx)("canvas",{id:"dx-ball",onContextMenuCapture:f.nK})})},7443:function(e,n,t){var r=t(85893),i=t(67294),a=t(33333),l=t(45279),o=t(58437);n.Z=(0,i.memo)(({id:e,useHook:n,StyledComponent:t,children:s})=>{let{processes:{[e]:{url:c=""}={}}}=(0,o.z)(),u=(0,i.useRef)(null),[d,f]=(0,i.useState)(!0),m=(0,i.useMemo)(()=>({contain:"strict",visibility:d?"hidden":"visible"}),[d]);return n({containerRef:u,id:e,loading:d,setLoading:f,url:c}),(0,r.jsxs)(r.Fragment,{children:[d&&(0,r.jsx)(a.default,{}),(0,r.jsx)(t,{ref:u,style:m,...(0,l.Z)({id:e}),children:s})]})})},33333:function(e,n,t){t.r(n);let r=t(10508).ZP.div(['cursor:wait;height:100%;width:100%;&::before{color:#fff;content:"Working on it...";display:flex;font-size:12px;justify-content:center;mix-blend-mode:difference;padding-top:18px;}']);n.default=r},45279:function(e,n,t){var r=t(1864),i=t(67294),a=t(59746),l=t(23736),o=t(89670),s=t(20063),c=t(58437),u=t(76488),d=t(97836),f=t(6484);n.Z=({callback:e,directory:n=d.Ll,id:t,onDragLeave:m,onDragOver:v,updatePositions:w})=>{let{url:p}=(0,c.z)(),{iconPositions:b,sortOrders:h,setIconPositions:x}=(0,u.k)(),{exists:g,mkdirRecursive:y,updateFolder:j,writeFile:$}=(0,s.o)(),k=(0,i.useCallback)(async(e,n,i)=>{if(t){if(n){let a=(0,r.join)(d.Ll,e);if(await y(d.Ll),await $(a,n,!0))return i===o.v.UPDATE_URL&&p(t,a),j(d.Ll,e),(0,r.basename)(a)}else i===o.v.UPDATE_URL&&p(t,e)}return""},[t,y,j,p,$]),{openTransferDialog:D}=(0,a.Z)();return{onDragLeave:m,onDragOver:e=>{null==v||v(e),(0,f.nK)(e)},onDrop:i=>{if(!d.my.has((0,f.RT)(n))){if(w&&i.target instanceof HTMLElement){let{files:e,text:t}=(0,l.p4)(i);if(0===e.length&&""===t)return;let a={x:i.clientX,y:i.clientY},o=[];if(t){try{o=JSON.parse(t)}catch{}if(!Array.isArray(o))return;let[e]=o;if(!e||e.startsWith(n)&&(0,r.basename)(e)===(0,r.relative)(n,e))return;o=o.map(e=>(0,r.basename)(e))}else e instanceof FileList?o=[...e].map(e=>e.name):o=[...e].map(e=>{var n;return(null===(n=e.getAsFile())||void 0===n?void 0:n.name)||""}).filter(Boolean);o=o.map(e=>{if(!b[`${n}/${e}`])return e;let t=0,i="";do t+=1,i=`${n}/${(0,r.basename)(e,(0,r.extname)(e))} (${t})${(0,r.extname)(e)}`;while(b[i]);return(0,r.basename)(i)}),(0,f.vi)(n,i.target,b,h,a,o,x,g)}(0,l.WG)(i,e||k,n,D,!!t)}}}}},11394:function(e,n,t){t.d(n,{H3:function(){return o},od:function(){return r},wz:function(){return l}});let r=e=>e.forEach(e=>{if(e in window)try{delete window[e]}finally{Object.assign(window,{[e]:void 0})}}),i=e=>{let n;Object.defineProperty(window,e,{get(){var t;return(null===(t=window.lockedGlobals)||void 0===t?void 0:t[e])?void 0:n},set(t){var r;(null===(r=window.lockedGlobals)||void 0===r?void 0:r[e])||(n=t)}})},a=(e,n)=>{window.lockedGlobals={...window.lockedGlobals,[e]:n}},l=e=>a(e,!0),o=e=>{Object.getOwnPropertyDescriptor(window,e)||i(e),a(e,!1)}}}]);