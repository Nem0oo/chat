"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6715],{93714:function(e,t,r){var i=r(85893),n=r(37725),l=r(58437);t.Z=({id:e,onClick:t})=>{let{closeWithTransition:r}=(0,l.z)(),o=()=>r(e);return(0,i.jsxs)("nav",{className:"buttons",children:[(0,i.jsx)(n.Z,{onClick:t||o,children:"OK"}),(0,i.jsx)(n.Z,{onClick:o,children:"Cancel"})]})}},46715:function(e,t,r){r.r(t),r.d(t,{default:function(){return N}});var i=r(85893),n=r(1864),l=r(67294),o=r(5152),s=r.n(o),a=r(87180),c=r(93714),d=r(20063),p=e=>{let{stat:t}=(0,d.o)(),[r,i]=(0,l.useState)();return(0,l.useEffect)(()=>{!r&&e&&t(e).then(i)},[t,r,e]),r},u=r(43950),x=r(6155),h=r(23736),f=r(58437),g=r(37176),b=r(76488),v=r(46581),j=r(97836),m=r(6484);let w=e=>(null==e?void 0:e.toLocaleString(j.ZW,{dateStyle:"long",timeStyle:"medium"}).replace(" at ",", "))||"";var y=(0,l.memo)(({icon:e,id:t,isShortcut:r,pid:o,url:s})=>{var a,y;let{closeWithTransition:k,icon:S}=(0,f.z)(),{setIconPositions:Z}=(0,b.k)(),C=(0,l.useMemo)(()=>(0,m.RT)(s||""),[s]),{type:$}=u.Z[C]||{},z=$||`${C.toUpperCase().replace(".","")} File`,E=(0,l.useRef)(null),{fs:N,readdir:L,rename:D,stat:F,updateFolder:R}=(0,d.o)(),M=p(s),[T,A]=(0,l.useState)(0),[K,P]=(0,l.useState)(0),[_,G]=(0,l.useState)(0),W=(0,l.useMemo)(()=>null==M?void 0:M.isDirectory(),[M]),X=_||(W?0:null==M?void 0:M.size),H=(0,l.useRef)(!1),O=(0,l.useRef)(),[U,V]=(0,l.useState)(j.XN),B=(0,l.useCallback)(async()=>{if(E.current&&s&&E.current.value!==(0,n.basename)(s)){let e=(0,h.gL)(E.current.value).trim();if((null==e?void 0:e.endsWith("."))&&(e=e.slice(0,-1)),e){let t=(0,n.dirname)(s),i=`${(0,n.join)(t,e)}${r?(0,n.extname)(s):""}`;await D(s,i)&&R(t,i,s),(0,n.dirname)(s)===j.Ll&&Z(e=>{let{[s]:t,...r}=e;return t&&(r[i]=t),r})}}k(t)},[k,t,r,D,Z,R,s]);return(0,l.useEffect)(()=>{W&&N&&(U===j.XN&&(0,x.nR)(N,s).then(e=>e&&V(e)),S(t,U||j.XN))},[U,N,t,W,S,s]),(0,l.useEffect)(()=>{if(!H.current&&!r&&W){H.current=!0,O.current=new AbortController;let e=async t=>{var r;if(null===(r=O.current)||void 0===r?void 0:r.signal.aborted)return;let i=await L(t),l=0,o=0,s=0;for(let r of i){let i=await F((0,n.join)(t,r));i.isDirectory()?(o+=1,await e((0,n.join)(t,r))):(l+=1,s+=i.size)}G(e=>e+s),A(e=>e+l),P(e=>e+o)};e(s)}},[W,r,L,F,s]),(0,l.useEffect)(()=>()=>{var e;return null===(e=O.current)||void 0===e?void 0:e.abort()},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("table",{className:"general",children:(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{className:"header",children:[(0,i.jsxs)("th",{scope:"row",children:[(0,i.jsx)(v.Z,{imgSize:32,src:W?U:e}),r&&(0,i.jsx)(v.Z,{imgSize:48,src:j.MB})]}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{ref:E,defaultValue:(0,n.basename)(s,r?(0,n.extname)(s):void 0),enterKeyHint:"done",maxLength:j.Zv,onKeyDown:e=>{"Enter"===e.key&&((0,m.nK)(e),B())},type:"text",...j.AA})})]}),(0,i.jsx)("tr",{children:(0,i.jsx)("td",{className:"spacer",colSpan:2})}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"row",children:W?"Type:":"Type of file:"}),(0,i.jsx)("td",{children:W?"File folder":r||z?`${r?"Shortcut":z} (${C})`:"File"})]}),!W&&(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"row",children:o?"Opens with:":"Description:"}),(0,i.jsxs)("td",{children:[o&&(null===(a=g.Z[o])||void 0===a?void 0:a.icon)&&(0,i.jsx)(v.Z,{imgSize:16,src:g.Z[o].icon}),o?(null===(y=g.Z[o])||void 0===y?void 0:y.title)||o:(0,n.basename)(s||"")]})]}),!W&&(0,i.jsx)("tr",{children:(0,i.jsx)("td",{className:"spacer",colSpan:2})}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"row",children:"Location:"}),(0,i.jsx)("td",{children:(0,n.dirname)(s)})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"row",children:"Size"}),(0,i.jsx)("td",{children:X?`${(0,m.UR)(X)} (${X.toLocaleString()} byte${1===X?"":"s"})`:"0 bytes"})]}),W&&(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"row",children:"Contains"}),(0,i.jsx)("td",{children:`${T.toLocaleString()} Files, ${K.toLocaleString()} Folders`})]}),(0,i.jsx)("tr",{children:(0,i.jsx)("td",{className:"spacer",colSpan:2})}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"row",children:"Created:"}),(0,i.jsx)("td",{children:w(null==M?void 0:M.ctime)})]}),!(null==M?void 0:M.isDirectory())&&(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"row",children:"Modified:"}),(0,i.jsx)("td",{children:M&&w(new Date((0,x.GA)(s,M)))})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"row",children:"Accessed:"}),(0,i.jsx)("td",{children:w(null==M?void 0:M.atime)})]})]})}),(0,i.jsx)(c.Z,{id:t,onClick:B})]})});let k=r(10508).ZP.div(["padding:0 8px 0 6px;table.general{background-color:#fff;border:1px solid rgb(217,217,217);height:calc(100% - 36px - 28px);padding-top:14px;position:relative;top:-1px;width:100%;tbody{display:flex;flex-direction:column;font-size:11.5px;gap:11px;tr{display:flex;padding:0 12px;place-content:center;place-items:center;&.header{margin-bottom:-4px;margin-top:-2px;padding:0 10px 0 12px;}}th{font-weight:400;text-align:left;width:74px;picture:nth-child(2){position:absolute;top:-2px;}}td{cursor:text;display:flex;user-select:text;width:calc(100% - 70px);&.spacer{border-bottom:1px solid rgb(160,160,160);display:block;width:100%;}input{border:1px solid rgb(122,122,122);font-size:11px;height:23px;padding:3px;width:100%;}img{margin-right:7px;}}}}nav{&.tabs{display:flex;height:28px;padding-top:7px;position:relative;z-index:1;button{background-color:#fff;border:1px solid rgb(217,217,217);border-bottom-width:0;display:flex;font-size:11.5px;height:21px;line-height:16px;padding:1px 6px;place-content:center;width:auto;z-index:2;&.inactive{background-color:rgb(240,240,240);border-bottom:1px solid rgb(217,217,217);height:19px;left:-1px;position:relative;top:2px;z-index:1;&:first-child{left:2px;}&:hover{background-color:rgb(216,234,249);}}}}&.buttons{display:flex;gap:8px;height:35px;margin-right:-1px;place-content:flex-end;place-items:center;button{height:21px;line-height:19px;}}}"]);var S=r(37725),Z=r(33975),C=r(44696);let $=s()(()=>r.e(9484,"high").then(r.bind(r,39484)),{loadableGenerated:{webpack:()=>[39484]}}),z=new Set(["PDF","Photos","Ruffle","VideoPlayer","Webamp"]),E=new Set([".jpg","jpeg",".tif",".tiff"]);var N=({id:e})=>{let{icon:t,processes:{[e]:r}={}}=(0,f.z)(),{shortcutPath:o,url:s}=r||{},c=o||s||"",d=p(c),[{getIcon:u,icon:x,pid:h}]=(0,Z.Z)(c,null==d?void 0:d.isDirectory()),{prependFileToTitle:g}=(0,C.Z)(e),b=(0,l.useRef)(),v=(0,l.useRef)(null),w=(0,a.Z)(e),[N,L]=(0,l.useState)("general"),D=!!(null==r?void 0:r.shortcutPath),[F,R]=(0,l.useState)({}),M="general"===N,T="details"===N,A=(0,l.useMemo)(()=>(0,n.extname)(c),[c]);return(0,l.useEffect)(()=>{t(e,x),"function"==typeof u&&".exe"===A.toLowerCase()&&(b.current=new AbortController,u(b.current.signal)),c&&g((0,n.basename)(c,o?A:void 0),!1,!0)},[A,c,u,x,e,g,t,o]),(0,l.useEffect)(()=>()=>{try{var e,t;null==b||null===(t=b.current)||void 0===t||null===(e=t.abort)||void 0===e||e.call(t)}catch{}},[]),(0,l.useEffect)(()=>{var e;return null===(e=v.current)||void 0===e?void 0:e.focus(j.eS)},[]),(0,i.jsxs)(k,{ref:v,onContextMenu:e=>{e.target instanceof HTMLInputElement||(0,m.nK)(e)},...w,children:[(0,i.jsxs)("nav",{className:"tabs",children:[(0,i.jsx)(S.Z,{className:M?void 0:"inactive",onClick:M?void 0:()=>L("general"),children:"General"}),z.has(h)&&!D&&(0,i.jsx)(S.Z,{className:T?void 0:"inactive",onClick:T?void 0:()=>L("details"),children:"Details"})]}),M&&(0,i.jsx)(y,{icon:x,id:e,isShortcut:D,pid:h,url:c}),T&&(0,i.jsx)($,{hasExif:E.has(A.toLowerCase()),id:e,metaData:F,setMetaData:R,url:s})]})}},37725:function(e,t,r){let i=r(10508).ZP.button(["background-color:rgb(225,225,225);border:1px solid rgb(173,173,173);color:#000;display:grid;font-family:",";font-size:12px;height:23px;line-height:","px;transition:background-color 0.25s ease;width:73px;&:focus,&.focus{border:2px solid rgb(0,120,215);line-height:","px;}&:hover{background-color:rgb(229,241,251);border:1px solid rgb(0,120,215);line-height:","px;}&:active{background-color:rgb(204,228,247);border:1px solid rgb(0,84,153);line-height:","px;transition:none;}&:disabled{background-color:rgb(204,204,204);border:1px solid rgb(191,191,191);color:#808080;line-height:","px;}"],({theme:e})=>e.formats.systemFont,21,19,21,21,21);t.Z=i},87180:function(e,t,r){var i=r(67294),n=r(58437),l=r(97836);t.Z=e=>{let{closeWithTransition:t}=(0,n.z)();return{onKeyDownCapture:(0,i.useCallback)(({key:r})=>"Escape"===r&&t(e),[t,e]),...l.LL}}},33975:function(e,t,r){var i=r(67294),n=r(6155),l=r(20063),o=r(18575),s=r(97836),a=r(6484);let c={icon:"",pid:"",url:""};t.Z=(e,t=!1,r=!1,d=!0)=>{let[p,u]=(0,i.useState)(c),x=(0,i.useRef)(!1),h=e=>{u(e),x.current=!1},{fs:f,rootFs:g}=(0,l.o)();return(0,i.useEffect)(()=>{if(f&&g&&!x.current&&d&&p===c){x.current=!0;let i=(0,a.RT)(e);i&&(!t||s.my.has(i)||(0,o.isMountedFolder)(g.mntMap[e]))?(0,n.Z7)(f,e,i,h):(0,n.g7)(f,g,e,t,r,h)}},[f,r,p,t,d,e,g]),[p,u]}},44696:function(e,t,r){var i=r(67294),n=r(58437),l=r(37176),o=r(97836);t.Z=e=>{let{title:t}=(0,n.z)(),[r]=e.split(o.CC),{title:s}=l.Z[r]||{};return{appendFileToTitle:(0,i.useCallback)((r,i)=>{let n=r?` - ${r}${i?` ${o.xy}`:""}`:"";t(e,`${s}${n}`)},[e,s,t]),prependFileToTitle:(0,i.useCallback)((r,i,n)=>{let l=r?`${i?`${o.xy} `:""}${r}${n?" ":" - "}`:"";t(e,`${l}${s}`)},[e,s,t])}}}}]);